(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"2xrT":function(e,t,n){e.exports=n("md7T")},"6JBb":function(e,t,n){var a=n("/6KZ"),r=n("SvME")(!1);a(a.S,"Object",{values:function(e){return r(e)}})},IbnU:function(e,t,n){"use strict";var i=n("z3IF"),d=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),u=n.n(r),r=n("mXGw"),p=n.n(r),r=n("W0B4"),r=n.n(r),o=n("4ZsV"),o=n.n(o),m=(n("Og1j"),n("kjvt")),c={glyph:r.a.string.isRequired},l=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,a=t.className,t=Object(d.a)(t,["glyph","className"]),t=Object(m.f)(t),r=t[0],t=t[1],r=Object(i.a)({},Object(m.d)(r),((e={})[Object(m.e)(r,n)]=!0,e));return p.a.createElement("span",Object(i.a)({},t,{className:u()(a,r)}))},t}(p.a.Component),s=(l.propTypes=c,Object(m.a)("glyphicon",l)),c={$bs_formGroup:r.a.object},l=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,a){e=this.getGlyph(e&&e.validationState);return e?p.a.createElement(s,Object(i.a)({},a,{glyph:e,className:u()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,e=Object(d.a)(e,["className","children"]),e=Object(m.f)(e),a=e[0],e=e[1],a=Object(m.d)(a);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,a,e);n=p.a.Children.only(n);return p.a.cloneElement(n,Object(i.a)({},e,{className:u()(n.props.className,t,a)}))},t}(p.a.Component),c=(l.defaultProps={bsRole:"feedback"},l.contextTypes=c,Object(m.a)("form-control-feedback",l)),l={componentClass:o.a},b=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=Object(d.a)(e,["componentClass","className"]),e=Object(m.f)(e),a=e[0],e=e[1],a=Object(m.d)(a);return p.a.createElement(t,Object(i.a)({},e,{className:u()(n,a)}))},t}(p.a.Component),l=(b.propTypes=l,b.defaultProps={componentClass:"p"},Object(m.a)("form-control-static",b)),h=n("qEYh"),b={componentClass:o.a,type:r.a.string,id:r.a.string,inputRef:r.a.func},n={$bs_formGroup:r.a.object},o=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,t=t&&t.controlId,n=this.props,a=n.componentClass,r=n.type,o=n.id,t=void 0===o?t:o,o=n.inputRef,c=n.className,l=n.bsSize,n=Object(d.a)(n,["componentClass","type","id","inputRef","className","bsSize"]),n=Object(m.f)(n),s=n[0],n=n[1];return"file"!==r&&(e=Object(m.d)(s)),l&&(s=h.a[l]||l,e[Object(m.e)({bsClass:"input"},s)]=!0),p.a.createElement(a,Object(i.a)({},n,{type:r,id:t,ref:o,className:u()(c,e)}))},t}(p.a.Component);o.propTypes=b,o.defaultProps={componentClass:"input"},o.contextTypes=n,o.Feedback=c,o.Static=l,t.a=Object(m.a)("form-control",Object(m.b)([h.b.SMALL,h.b.LARGE],o))},O6wh:function(e,t,n){"use strict";var a=n("2xrT"),a=n.n(a),o=n("3ejq"),c=n("z3IF"),r=n("ZHeO"),l=n("8Jek"),s=n.n(l),l=n("mXGw"),i=n.n(l),l=n("W0B4"),l=n.n(l),d=n("4ZsV"),d=n.n(d),u=n("kjvt"),p=n("qEYh"),m=n("z+iy"),n={active:l.a.bool,disabled:l.a.bool,block:l.a.bool,onClick:l.a.func,componentClass:d.a,href:l.a.string,type:l.a.oneOf(["button","reset","submit"])},d=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return i.a.createElement(m.a,Object(c.a)({},e,{className:s()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,e=Object(o.a)(e,["componentClass"]);return i.a.createElement(n||"button",Object(c.a)({},e,{type:e.type||"button",className:t}))},n.render=function(){var e=this.props,t=e.active,n=e.block,a=e.className,e=Object(o.a)(e,["active","block","className"]),e=Object(u.f)(e),r=e[0],e=e[1],r=Object(c.a)({},Object(u.d)(r),((t={active:t})[Object(u.e)(r,"block")]=n,t)),n=s()(a,r);return e.href?this.renderAnchor(e,n):this.renderButton(e,n)},t}(i.a.Component);d.propTypes=n,d.defaultProps={active:!1,block:!1,disabled:!1},t.a=Object(u.a)("btn",Object(u.b)([p.b.LARGE,p.b.SMALL,p.b.XSMALL],Object(u.c)(a()(p.c).concat([p.d.DEFAULT,p.d.PRIMARY,p.d.LINK]),p.d.DEFAULT,d)))},bj0z:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("mXGw"),d=n("O6wh"),u=n("YHpT"),p=n("XdbE");function a(e){var t=e.offset,n=e.limit,a=e.callback,r=e.data,o=e.length,c=e.count,e=e.disabled,e=void 0!==e&&e,l=Object(u.v)(r,t,n,o),s=l.start,l=l.end;return i.createElement("ul",{className:"list-inline text-right"},0!==t&&i.createElement("li",null,i.createElement(d.a,{"data-action":p.r.ACTION.RESET,onClick:a,disabled:e},i.createElement("i",{className:"fa fa-step-backward"}))),i.createElement("li",null,i.createElement("span",null,s+"-"+l)),i.createElement("li",null,i.createElement(d.a,{disabled:0===t||e,"data-action":p.r.ACTION.PREVIOUS,bsClass:"btn btn-default b-t-l b-b-l",onClick:a},i.createElement("i",{className:"fa fa-chevron-left"}))),i.createElement("li",null,i.createElement(d.a,{disabled:(o||r&&Object.keys(r).length)<n||e||(t+1)*n===c,"data-action":p.r.ACTION.NEXT,bsClass:"btn btn-default b-t-r b-b-r",onClick:a},i.createElement("i",{className:"fa fa-chevron-right"}))))}},ddal:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return i});var l=n("mXGw"),s=n("Q7aK"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var t=t.name,n=new FormData;return n.append("file",e,t+".png"),e=n.get("file")},o=function(e,t){function n(e){var t=e.title,e=e.description;return l.createElement("div",null,l.createElement("span",{className:"block text-md font-bold"},t),l.createElement("span",{className:"block"},e))}var a=t.title,r=t.description,o=t.id,t=t.timer,t=void 0!==t&&t,c=null;return o?s.toast.update(o,{render:l.createElement(n,{title:a,description:r}),transition:s.Slide,position:s.toast.POSITION.TOP_RIGHT,autoClose:3e3,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}):c=Object(s.toast)(l.createElement(n,{title:a,description:r}),{transition:s.Slide,position:s.toast.POSITION.TOP_RIGHT,autoClose:t,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}),c},c={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px",padding:"0 8px"})},placeholder:function(e){return a(a({},e),{top:"46%"})},input:function(e){return a(a({},e),{paddingTop:"0"})},indicatorsContainer:function(e){return a(a({},e),{minHeight:"34px"})},dropdownIndicator:function(e){return a(a({},e),{padding:"7px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",height:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}},i={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}}},fMbO:function(e,t,n){"use strict";n.r(t);var a,r,d=n("mXGw"),u=n("UpPA"),o=n("/m4v"),p=n("hxag"),m=n("ib2A"),b=n("Q7aK"),h=n("44nO"),g=n("IbnU"),s=n("mbMT"),i=n("CrSU"),f=n("ddal"),v=n("bj0z"),c=n("YHpT"),C=n("tz+R"),O=n("XdbE"),l=n("cemM"),n=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(){return(y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},n=(r=d.Component,n(E,r),E.prototype.componentWillMount=function(){document.title=O.z["/calling-cards"]},E.prototype.componentDidMount=function(){var e=y({},this.state);this.initRequests(e)},E.prototype.componentWillUnmount=function(){this.componentState=!1},E.prototype.componentDidUpdate=function(e,t){var n=this.state.isCreated;n&&t.isCreated!==n&&(t=y({},this.state),this.initRequests(t,0,!1,!0))},E.prototype.render=function(){var e=this.state,t=e.callingCards,n=e.validation,a=e.offset,r=e.limit,o=e.popup,c=e.initialLoading,e=e.request,l=e.pagination,s=e.create,e=e.loading,i=this.props.currencies;return d.createElement("div",{className:"box-shadow r-3x bg-white"},d.createElement(b.ToastContainer,null),d.createElement("div",{className:"content-wrapper"},d.createElement("div",{className:"container-fluid"},d.createElement("div",{className:"row"},d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},d.createElement("span",{className:"text-xsl padder-t-3"},O.z["/calling-cards"])),d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},d.createElement("div",{className:"text-right"},d.createElement("button",{className:"btn btn-default btn-addon",onClick:this.handleModalOpen},d.createElement("i",{className:"fa fa-plus"}),"Create card")))))),c?d.createElement(C.a,null):d.createElement("div",{className:e?"inactive":""},d.createElement(p.a,{hover:!0,condensed:!0,responsive:!0},d.createElement("thead",null,d.createElement("tr",null,d.createElement("th",null),d.createElement("th",null,"Code"),d.createElement("th",null,"Amount"),d.createElement("th",null,"Currency"))),d.createElement("tbody",null,t&&0===t.length&&d.createElement("tr",null,d.createElement("td",{colSpan:4},d.createElement("div",{className:"empty"},"No results found."))),t&&t.map(function(e,t){t=a*r+t+1;return d.createElement("tr",{key:t},d.createElement("td",null,t),d.createElement("td",null,e.code),d.createElement("td",null,e.amount),d.createElement("td",null,e.currency))})))),d.createElement("div",{className:"content-wrapper"},d.createElement("div",{className:"container-fluid"},d.createElement("div",{className:"row"},!c&&d.createElement("div",null,d.createElement("div",{className:"col-lg-6 col-md-6 col-xs-6 col-sm-6"}),d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},d.createElement(v.a,{offset:a,limit:r,callback:this.handleListChange,data:t,disabled:l})))))),d.createElement(m.a,{show:o.show,onHide:this.handleModalClose},d.createElement(m.a.Header,{closeButton:!0},d.createElement("span",{className:"text-xlg"},"Create Charging Card")),d.createElement(m.a.Body,null,d.createElement("div",{style:{maxWidth:"650px",margin:"10px auto"}},d.createElement("div",{className:"container-fluid"},d.createElement("div",{className:"row"},d.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},d.createElement("form",{className:"form-horizontal"},d.createElement(h.a,{validationState:n.chargingCard.amount.value},d.createElement("label",{htmlFor:"amount",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Amount"),d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-8"},d.createElement(g.a,{id:"amount",name:"amount",pattern:"[0-9.]+",placeholder:"Amount",onChange:this.handleCallingCardAttributesChange,value:o.chargingCard.amount}),d.createElement("span",{className:"help-block text-muted"}))),d.createElement(h.a,{validationState:n.chargingCard.currency.value},d.createElement("label",{htmlFor:"currency",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Currency"),d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-8"},d.createElement(u.b,{id:"currency",name:"countries",placeholder:"Currency",styles:f.c,isMulti:!1,closeMenuOnSelect:!0,options:i,value:o.chargingCard.currency,onChange:this.handleCallingCardCurrencyChange}),d.createElement("span",{className:"help-block text-muted"}))),d.createElement(h.a,{validationState:n.chargingCard.count.value},d.createElement("label",{htmlFor:"count",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Count"),d.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-8"},d.createElement(g.a,{min:"1",id:"count",name:"count",type:"number",placeholder:"Count",onChange:this.handleCallingCardAttributesChange,value:o.chargingCard.count}),d.createElement("span",{className:"help-block text-muted"}))))))))),d.createElement(m.a.Footer,null,d.createElement("div",{className:"container-fluid"},d.createElement("div",{className:"row"},d.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},d.createElement("div",{className:"text-right flex-end"},d.createElement("button",{className:"btn btn-info",onClick:this.handleSubmit,disabled:s.disabled||s.processing},"Create charging card",s.processing&&d.createElement("i",{className:"fa fa-spin fa-spinner m-l-xs"})))))))))},E);function E(e){var l=r.call(this,e)||this;return l.componentState=!0,l.initRequests=function(t,n,a,r){void 0===n&&(n=0),void 0===a&&(a=!1),void 0===r&&(r=!1);var e,o=t.limit,c=t.initialLoading;e=n,s.a.get(i.a.panel.baseUrl+i.a.panel.api.v2.chargingCards,{params:{offset:e,limit:o}}).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));t.callingCards=e.result.chargingCards||[],c&&(t.initialLoading=!1),a&&(t.request.pagination=!1,t.request.loading=!1,t.offset=n),r&&(t.request.loading=!1),l.componentState&&l.setState(t)}).catch(function(e){console.log(e),l.componentState&&(c&&(t.initialLoading=!1),a&&(t.request.pagination=!1,t.request.loading=!1),r&&(t.request.loading=!1),l.setState(t),Object(f.d)("error",{title:"You got an error!",description:"Error during getting charging cards",timer:3e3}))})},l.handleListChange=function(e){var t=l.state.offset,t=Object(c.i)(t,e),e=y({},l.state);e.request.pagination=!0,e.request.loading=!0,l.setState(e),l.initRequests(e,t,!0)},l.handleModalOpen=function(){var e;l.props.userProfile.readonly?Object(f.d)("error",{title:"Read-Only admin",description:"Read-Only admin: the access to this functionality is restricted for your user role",timer:3e3,hideProgress:!0}):((e=y({},l.state)).popup.show=!0,l.setState(e))},l.handleModalClose=function(){var e,t=l.state,n=t.popup.chargingCard,a=t.validation,r=y({},l.state);for(e in r.popup.show=!1,r.request.create.disabled=!0,n)n.hasOwnProperty(e)&&(r.popup.chargingCard[e]="");for(e in a.chargingCard)a.chargingCard.hasOwnProperty(e)&&(r.validation.chargingCard[e]={value:null,message:""});l.setState(r)},l.handleCallingCardAttributesChange=function(e){var e=e.currentTarget,t=e.value,e=e.name,n=y({},l.state);n.popup.chargingCard[e]=t,n.validation.chargingCard[e].value=""===t?"error":null,n.validation.chargingCard[e].message=""===t?"Must be not empty":"",l.handleToggleDisabled(n),l.setState(n)},l.handleCallingCardCurrencyChange=function(e){var t=y({},l.state);t.popup.chargingCard.currency=e,t.validation.chargingCard.currency.value=""===e?"error":null,t.validation.chargingCard.currency.message=""===e?"Must be not empty":"",l.handleToggleDisabled(t),l.setState(t)},l.handleToggleDisabled=function(t){t.request.create.disabled=Object.keys(t.popup.chargingCard).some(function(e){return""===t.popup.chargingCard[e]})},l.handleSubmit=function(e){e.preventDefault();var e=l.state.popup,n=y({},l.state),e={amount:e.chargingCard.amount,currency:e.chargingCard.currency.value,count:e.chargingCard.count},a=(n.request.create.processing=!0,n.request.loading=!0,n.isCreated=!1,l.setState(n),Object(f.d)("info",{title:"Processing...",description:""}));s.a.post(i.a.panel.baseUrl+i.a.panel.api.v2.chargingCards,e).then(function(e){var t,e=e.data;if(e.err||!e.result.status)throw new Error(JSON.stringify(e.err));for(t in n.popup.chargingCard)n.popup.chargingCard.hasOwnProperty(t)&&(n.popup.chargingCard[t]="");for(t in n.validation.chargingCard)n.validation.chargingCard.hasOwnProperty(t)&&(n.validation.chargingCard[t]={value:null,message:""});n.request.create.processing=!1,n.popup.show=!1,n.isCreated=!0,l.componentState&&(Object(f.d)("success",{title:"Success!",description:"You have successfully created calling card",id:a}),l.setState(n))}).catch(function(e){console.log(e),n.request.create.processing=!1,l.componentState&&(Object(f.d)("error",{title:"You got an error!",description:"Error by create calling card for unknown reason",timer:3e3}),l.setState(n))})},l.state={offset:0,limit:20,initialLoading:!0,_countries:null,callingCards:null,isCreated:!1,validation:{chargingCard:{amount:{value:null,message:""},currency:{value:null,message:""},count:{value:null,message:""}}},popup:{show:!1,chargingCard:{amount:"",currency:"",count:""}},request:{pagination:!1,loading:!1,create:{disabled:!0,processing:!1}}},l}t.default=Object(o.b)(function(e){return Object(l.a)(e)},function(){return{}})(n)},hxag:function(e,t,n){"use strict";var i=n("z3IF"),d=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),u=n.n(r),r=n("mXGw"),p=n.n(r),r=n("W0B4"),r=n.n(r),m=n("kjvt"),n={striped:r.a.bool,bordered:r.a.bool,condensed:r.a.bool,hover:r.a.bool,responsive:r.a.bool},r=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,a=t.bordered,r=t.condensed,o=t.hover,c=t.responsive,l=t.className,t=Object(d.a)(t,["striped","bordered","condensed","hover","responsive","className"]),t=Object(m.f)(t),s=t[0],t=t[1],n=Object(i.a)({},Object(m.d)(s),((e={})[Object(m.e)(s,"striped")]=n,e[Object(m.e)(s,"bordered")]=a,e[Object(m.e)(s,"condensed")]=r,e[Object(m.e)(s,"hover")]=o,e)),a=p.a.createElement("table",Object(i.a)({},t,{className:u()(l,n)}));return c?p.a.createElement("div",{className:Object(m.e)(s,"responsive")},a):a},t}(p.a.Component);r.propTypes=n,r.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},t.a=Object(m.a)("table",r)},md7T:function(e,t,n){n("6JBb"),e.exports=n("TaGV").Object.values},"z+iy":function(e,t,n){"use strict";var r=n("z3IF"),o=n("3ejq"),a=n("ZHeO"),c=n("YKN3"),l=n("mXGw"),s=n.n(l),l=n("W0B4"),l=n.n(l),i=n("4ZsV"),i=n.n(i),d=n("fXdF"),n={href:l.a.string,onClick:l.a.func,onKeyDown:l.a.func,disabled:l.a.bool,role:l.a.string,tabIndex:l.a.oneOfType([l.a.number,l.a.string]),componentClass:i.a};function u(e){return!e||"#"===e.trim()}l=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(Object(c.a)(Object(c.a)(e))),e.handleKeyDown=e.handleKeyDown.bind(Object(c.a)(Object(c.a)(e))),e}Object(a.a)(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,a=t.href,t=t.onClick;(n||u(a))&&e.preventDefault(),n?e.stopPropagation():t&&t(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,a=e.onKeyDown,e=Object(o.a)(e,["componentClass","disabled","onKeyDown"]);return u(e.href)&&(e.role=e.role||"button",e.href=e.href||"#"),n&&(e.tabIndex=-1,e.style=Object(r.a)({pointerEvents:"none"},e.style)),s.a.createElement(t,Object(r.a)({},e,{onClick:this.handleClick,onKeyDown:Object(d.a)(this.handleKeyDown,a)}))},e}(s.a.Component);l.propTypes=n,l.defaultProps={componentClass:"a"},t.a=l}}]);