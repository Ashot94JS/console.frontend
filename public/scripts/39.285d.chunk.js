(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"87gR":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("mXGw");function o(e){var t=e.isAbsolute,n=e.isDropUp;return a.createElement("div",{style:{position:"absolute",left:"93%"},className:(n?"dropup-absolute":t?"dropdown-absolute":"dropdown")+" more-actions text-right"},a.createElement("button",{className:"btn btn-default dropdown-toggle","data-toggle":"dropdown",onClick:function(e){e.stopPropagation()}},a.createElement("span",{className:"icon-more"})),a.createElement("ul",{className:"dropdown-menu"},e.children))}},KFHm:function(e,t,n){"use strict";n.r(t);var a,o,c=n("mXGw"),r=n("Samx"),i=n.n(r),r=n("Qvvf"),s=n.n(r),u=n("thVU"),d=n("hxag"),p=n("Q7aK"),l=n("Sha/"),m=n("bj0z"),f=n("ddal"),h=n("YHpT"),b=n("wVQu"),g=n("XdbE"),E=n("tz+R"),v=n("87gR"),r=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(){return(w=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=(o=c.Component,r(N,o),N.prototype.componentWillMount=function(){document.title=g.z["/chat-bots"]},N.prototype.componentDidMount=function(){var e=w({},this.state);this.initRequests(e)},N.prototype.componentWillUnmount=function(){this.componentState=!1},N.prototype.render=function(){var a=this,e=this.state,o=e.offset,r=e.limit,l=e.chatBots,t=e.popup,n=e.request.pagination,e=e.initialLoading;return c.createElement("div",{className:"box-shadow r-3x bg-white"},c.createElement(p.ToastContainer,null),c.createElement("div",{className:"content-wrapper"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},c.createElement("span",{className:"text-xsl padder-t-3"},g.z["/chat-bots"])),c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},c.createElement("div",{className:"text-right"},c.createElement(u.a,{to:"/chat-bots/create",className:"btn btn-default btn-addon"},c.createElement("i",{className:"fa fa-plus"}),"New")))))),e?c.createElement(E.a,null):c.createElement(d.a,{hover:!0,condensed:!0,responsive:!0},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null),c.createElement("th",null,"Name"),c.createElement("th",null,"Created at"),c.createElement("th",null,"Updated at"),c.createElement("th",null))),c.createElement("tbody",null,0===l.records.length&&c.createElement("tr",null,c.createElement("td",{colSpan:5},"No result")),l.records.map(function(t,e){var n=o*r+e+1;return c.createElement("tr",{key:n,className:"cursor-pointer",onClick:function(){return a.handleEditChatBot(t.chatBotId)}},c.createElement("td",null,n),c.createElement("td",null,t.name),c.createElement("td",null,i()(s()(t.createdAt),"DD MMM YYYY hh:mm A")),c.createElement("td",null,t.updatedAt?i()(s()(t.createdAt),"DD MMM YYYY hh:mm A"):"Never"),c.createElement("td",null,c.createElement(v.a,{isDropUp:e===l.records.length-1},c.createElement("li",null,c.createElement(u.a,{to:"/chat-bots/"+t.chatBotId},"Edit")),c.createElement("li",null,c.createElement("a",{href:"javascript:void(0);",onClick:function(e){return a.handleModalOpen(e,t.chatBotId)}},"Delete")))))}))),c.createElement("div",{className:"content-wrapper"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},!e&&l.count>r&&c.createElement("div",null,c.createElement("div",{className:"col-lg-6 col-md-6 col-xs-6 col-sm-6"},c.createElement("span",{className:"text-xs"},"Showing "+r+" of "+l.count)),c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},c.createElement(m.a,{offset:o,limit:r,disabled:n,length:l.records.length,callback:this.handleListChange})))))),c.createElement(b.a,{show:t.delete.show,message:t.delete.message,hideModal:this.handleModalClose,confirmAction:this.handleBotDelete}))},N);function N(e){var r=o.call(this,e)||this;return r.componentState=!0,r.initRequests=function(t,n,a){void 0===n&&(n=0),void 0===a&&(a=!1);var e=t.limit,o=t.initialLoading;Object(l.g)(n,e).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));t.chatBots.records=e.result.records||[],t.chatBots.count=e.result.count||0,o&&(t.initialLoading=!1),a&&(t.request.pagination=!1,t.offset=n),r.componentState&&r.setState(t)}).catch(function(e){console.log(e),a&&(t.request.pagination=!1),o&&(t.initialLoading=!1),r.componentState&&(r.setState(t),Object(f.d)("error",{title:"You got an error!",description:"Can not get chatBots for unknown reason",timer:3e3}))})},r.handleBotDelete=function(e){e.preventDefault();var t,n=r.state.chatBotId,a=w({},r.state),o=Object(f.d)("info",{title:"Processing...",description:""});for(t in a.popup)a.popup.hasOwnProperty(t)&&(a.popup[t].show=!1);r.setState(a),Object(l.c)(n).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));a.chatBots.records=a.chatBots.records.filter(function(e){return e.chatBotId.toString()!==n.toString()}),a.chatBots.count--,a.chatBotId=null,r.componentState&&(r.setState(a),Object(f.d)("success",{title:"Success!",description:"Chat bot was successfully deleted",id:o}))}).catch(function(e){console.log(e),a.chatBotId=null,r.componentState&&(r.setState(a),Object(f.d)("error",{title:"You got an error!",description:"Chat bot is not deleted",id:o}))})},r.handleModalOpen=function(e,t){e.stopPropagation();e=w({},r.state);e.popup.delete.show=!0,e.popup.delete.message={title:"Are you sure delete?",apply:"Apply",cancel:"Cancel"},e.chatBotId=t,r.setState(e)},r.handleModalClose=function(){var e,t=w({},r.state);for(e in t.popup)t.popup.hasOwnProperty(e)&&(t.popup[e].show=!1);t.popup.delete.message=null,t.chatBotId=null,r.setState(t)},r.handleListChange=function(e){e.preventDefault();var t=r.state.offset,n=w({},r.state),t=Object(h.i)(t,e);n.request.pagination=!0,r.setState(n),r.initRequests(n,t,!0)},r.handleEditChatBot=function(e){if(e)try{r.props.history.push("/chat-bots/"+e)}catch(e){console.log(e)}},r.state={offset:0,limit:20,chatBots:{count:0,records:[]},chatBotId:null,initialLoading:!0,request:{pagination:!1,loading:!0},popup:{delete:{show:!1}}},r}t.default=n},"Sha/":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"i",function(){return i}),n.d(t,"h",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m});var a=n("CrSU"),o=n("mbMT"),r=function(e,t){return o.a.get(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base,{params:{offset:e,limit:t}})},l=function(e){return o.a.get(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e)},c=function(e){return o.a.post(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base,e)},i=function(e,t){return o.a.post(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e+"/avatar",t)},s=function(e,t){return o.a.put(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e,t)},u=function(e){return o.a.delete(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e)},d=function(e,t,n){return o.a.get(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e+"/credentials",{params:{offset:t,limit:n}})},p=function(e){return o.a.post(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e+"/credentials",{})},m=function(e,t){return o.a.delete(a.a.panel.baseUrl+a.a.panel.api.v2.chatBots.base+"/"+e+"/credentials/"+t)}},bj0z:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("mXGw"),u=n("O6wh"),d=n("YHpT"),p=n("XdbE");function a(e){var t=e.offset,n=e.limit,a=e.callback,o=e.data,r=e.length,l=e.count,e=e.disabled,e=void 0!==e&&e,c=Object(d.v)(o,t,n,r),i=c.start,c=c.end;return s.createElement("ul",{className:"list-inline text-right"},0!==t&&s.createElement("li",null,s.createElement(u.a,{"data-action":p.r.ACTION.RESET,onClick:a,disabled:e},s.createElement("i",{className:"fa fa-step-backward"}))),s.createElement("li",null,s.createElement("span",null,i+"-"+c)),s.createElement("li",null,s.createElement(u.a,{disabled:0===t||e,"data-action":p.r.ACTION.PREVIOUS,bsClass:"btn btn-default b-t-l b-b-l",onClick:a},s.createElement("i",{className:"fa fa-chevron-left"}))),s.createElement("li",null,s.createElement(u.a,{disabled:(r||o&&Object.keys(o).length)<n||e||(t+1)*n===l,"data-action":p.r.ACTION.NEXT,bsClass:"btn btn-default b-t-r b-b-r",onClick:a},s.createElement("i",{className:"fa fa-chevron-right"}))))}},ddal:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var c=n("mXGw"),i=n("Q7aK"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var t=t.name,n=new FormData;return n.append("file",e,t+".png"),e=n.get("file")},r=function(e,t){function n(e){var t=e.title,e=e.description;return c.createElement("div",null,c.createElement("span",{className:"block text-md font-bold"},t),c.createElement("span",{className:"block"},e))}var a=t.title,o=t.description,r=t.id,t=t.timer,t=void 0!==t&&t,l=null;return r?i.toast.update(r,{render:c.createElement(n,{title:a,description:o}),transition:i.Slide,position:i.toast.POSITION.TOP_RIGHT,autoClose:3e3,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}):l=Object(i.toast)(c.createElement(n,{title:a,description:o}),{transition:i.Slide,position:i.toast.POSITION.TOP_RIGHT,autoClose:t,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}),l},l={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px",padding:"0 8px"})},placeholder:function(e){return a(a({},e),{top:"46%"})},input:function(e){return a(a({},e),{paddingTop:"0"})},indicatorsContainer:function(e){return a(a({},e),{minHeight:"34px"})},dropdownIndicator:function(e){return a(a({},e),{padding:"7px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",height:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}},s={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}}},wVQu:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("mXGw"),c=n("ib2A"),i=n("O6wh");function a(e){var t=e.message,n=t.title,a=t.apply,t=t.cancel,o=e.hideModal,r=e.confirmAction,e=e.show;return l.createElement(c.a,{show:e,onHide:o,bsSize:"sm",style:{display:"flex",alignItems:"center"}},l.createElement(c.a.Header,{closeButton:!0}),l.createElement(c.a.Body,null,l.createElement("span",{className:"text-md"},n)),l.createElement(c.a.Footer,null,l.createElement(i.a,{onClick:o},t),l.createElement(i.a,{onClick:r,bsStyle:"info"},a)))}}}]);