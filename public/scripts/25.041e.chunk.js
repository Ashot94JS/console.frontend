(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"2Fcx":function(e,t,n){"use strict";var o=n("z3IF"),i=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),s=n.n(r),r=n("mXGw"),c=n.n(r),r=n("W0B4"),r=n.n(r),l=(n("Og1j"),n("kjvt")),n={htmlFor:r.a.string,srOnly:r.a.bool},r={$bs_formGroup:r.a.object},u=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,e=e&&e.controlId,t=this.props,n=t.htmlFor,e=void 0===n?e:n,n=t.srOnly,a=t.className,t=Object(i.a)(t,["htmlFor","srOnly","className"]),t=Object(l.f)(t),r=t[0],t=t[1],r=Object(o.a)({},Object(l.d)(r),{"sr-only":n});return c.a.createElement("label",Object(o.a)({},t,{htmlFor:e,className:s()(a,r)}))},t}(c.a.Component);u.propTypes=n,u.defaultProps={srOnly:!1},u.contextTypes=r,t.a=Object(l.a)("control-label",u)},"9qTZ":function(e,t,n){"use strict";var v=n("z3IF"),k=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),y=n.n(r),r=n("MF5R"),o=n.n(r),O=n("mXGw"),S=n.n(O),r=n("W0B4"),r=n.n(r),i=n("xARA"),s=n.n(i),i=n("zKcf"),i=n.n(i),E=(n("Og1j"),n("kjvt")),j=n("fXdF"),C=n("m56K"),n={activeKey:r.a.any,activeHref:r.a.string,stacked:r.a.bool,justified:i()(r.a.bool,function(e){var t=e.justified,e=e.navbar;return t&&e?Error("justified navbar `Nav`s are not supported"):null}),onSelect:r.a.func,role:r.a.string,navbar:r.a.bool,pullRight:r.a.bool,pullLeft:r.a.bool},i={$bs_navbar:r.a.shape({bsClass:r.a.string,onSelect:r.a.func}),$bs_tabContainer:r.a.shape({activeKey:r.a.any,onSelect:r.a.func.isRequired,getTabId:r.a.func.isRequired,getPaneId:r.a.func.isRequired})},r=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var t,n,e,a,r=this;this._needsRefocus&&(this._needsRefocus=!1,e=this.props.children,a=this.getActiveProps(),t=a.activeKey,n=a.activeHref,a=C.a.find(e,function(e){return r.isActive(e,t,n)}),e=C.a.toArray(e).indexOf(a),(a=(a=s.a.findDOMNode(this).children)&&a[e])&&a.firstChild&&a.firstChild.focus())},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,a=n.filter(function(e){return null!=e.props.eventKey&&!e.props.disabled}),r=this.getActiveProps(),o=r.activeKey,i=r.activeHref,r=C.a.find(n,function(e){return t.isActive(e,o,i)}),n=a.indexOf(r);if(-1===n)return a[0];r=n+e,n=a.length;return n<=r?r=0:r<0&&(r=n-1),a[r]},n.getTabProps=function(e,t,n,a,r){var o=this;if(!t&&"tablist"!==n)return null;var e=e.props,i=e.id,s=e["aria-controls"],c=e.eventKey,l=e.role,u=e.onKeyDown,e=e.tabIndex;return t&&(i=t.getTabId(c),s=t.getPaneId(c)),"tablist"===n&&(l=l||"tab",u=Object(j.a)(function(e){return o.handleTabKeyDown(r,e)},u),e=a?e:-1),{id:i,role:l,onKeyDown:u,"aria-controls":s,tabIndex:e}},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case o.a.codes.left:case o.a.codes.up:n=this.getNextActiveChild(-1);break;case o.a.codes.right:case o.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){e=e.props;return!!(e.active||null!=t&&e.eventKey===t||n&&e.href===n)||e.active},n.render=function(){var e,t,a=this,n=this.props,r=n.stacked,o=n.justified,i=n.onSelect,s=n.role,c=n.navbar,l=n.pullRight,u=n.pullLeft,d=n.className,p=n.children,n=Object(k.a)(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),m=this.context.$bs_tabContainer,f=s||(m?"tablist":null),s=this.getActiveProps(),g=s.activeKey,h=s.activeHref,s=(delete n.activeKey,delete n.activeHref,Object(E.f)(n)),n=s[0],s=s[1],r=Object(v.a)({},Object(E.d)(n),((e={})[Object(E.e)(n,"stacked")]=r,e[Object(E.e)(n,"justified")]=o,e)),b=null!=c?c:this.context.$bs_navbar,o=b?(n=this.context.$bs_navbar||{bsClass:"navbar"},r[Object(E.e)(n,"nav")]=!0,t=Object(E.e)(n,"right"),Object(E.e)(n,"left")):(t="pull-right","pull-left");return r[t]=l,r[o]=u,S.a.createElement("ul",Object(v.a)({},s,{role:f,className:y()(d,r)}),C.a.map(p,function(e){var t=a.isActive(e,g,h),n=Object(j.a)(e.props.onSelect,i,b&&b.onSelect,m&&m.onSelect);return Object(O.cloneElement)(e,Object(v.a)({},a.getTabProps(e,m,f,t,n),{active:t,activeKey:g,activeHref:h,onSelect:n}))}))},t}(S.a.Component);r.propTypes=n,r.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},r.contextTypes=i,t.a=Object(E.a)("nav",Object(E.c)(["tabs","pills"],r))},IbnU:function(e,t,n){"use strict";var l=n("z3IF"),u=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),d=n.n(r),r=n("mXGw"),p=n.n(r),r=n("W0B4"),r=n.n(r),o=n("4ZsV"),o=n.n(o),m=(n("Og1j"),n("kjvt")),i={glyph:r.a.string.isRequired},s=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,a=t.className,t=Object(u.a)(t,["glyph","className"]),t=Object(m.f)(t),r=t[0],t=t[1],r=Object(l.a)({},Object(m.d)(r),((e={})[Object(m.e)(r,n)]=!0,e));return p.a.createElement("span",Object(l.a)({},t,{className:d()(a,r)}))},t}(p.a.Component),c=(s.propTypes=i,Object(m.a)("glyphicon",s)),i={$bs_formGroup:r.a.object},s=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,a){e=this.getGlyph(e&&e.validationState);return e?p.a.createElement(c,Object(l.a)({},a,{glyph:e,className:d()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,e=Object(u.a)(e,["className","children"]),e=Object(m.f)(e),a=e[0],e=e[1],a=Object(m.d)(a);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,a,e);n=p.a.Children.only(n);return p.a.cloneElement(n,Object(l.a)({},e,{className:d()(n.props.className,t,a)}))},t}(p.a.Component),i=(s.defaultProps={bsRole:"feedback"},s.contextTypes=i,Object(m.a)("form-control-feedback",s)),s={componentClass:o.a},f=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=Object(u.a)(e,["componentClass","className"]),e=Object(m.f)(e),a=e[0],e=e[1],a=Object(m.d)(a);return p.a.createElement(t,Object(l.a)({},e,{className:d()(n,a)}))},t}(p.a.Component),s=(f.propTypes=s,f.defaultProps={componentClass:"p"},Object(m.a)("form-control-static",f)),g=n("qEYh"),f={componentClass:o.a,type:r.a.string,id:r.a.string,inputRef:r.a.func},n={$bs_formGroup:r.a.object},o=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,t=t&&t.controlId,n=this.props,a=n.componentClass,r=n.type,o=n.id,t=void 0===o?t:o,o=n.inputRef,i=n.className,s=n.bsSize,n=Object(u.a)(n,["componentClass","type","id","inputRef","className","bsSize"]),n=Object(m.f)(n),c=n[0],n=n[1];return"file"!==r&&(e=Object(m.d)(c)),s&&(c=g.a[s]||s,e[Object(m.e)({bsClass:"input"},c)]=!0),p.a.createElement(a,Object(l.a)({},n,{type:r,id:t,ref:o,className:d()(i,e)}))},t}(p.a.Component);o.propTypes=f,o.defaultProps={componentClass:"input"},o.contextTypes=n,o.Feedback=i,o.Static=s,t.a=Object(m.a)("form-control",Object(m.b)([g.b.SMALL,g.b.LARGE],o))},K0AJ:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},MF5R:function(e,t){function n(e){if(!e||"object"!=typeof e||(t=e.which||e.keyCode||e.charCode)&&(e=t),"number"==typeof e)return s[e];var t=String(e),e=a[t.toLowerCase()];return e||((e=r[t.toLowerCase()])?e:1===t.length?t.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){e=e.which||e.keyCode||e.charCode;if(null==e)return!1;if("string"==typeof t){var n=a[t.toLowerCase()];if(n)return n===e;if(n=r[t.toLowerCase()])return n===e}else if("number"==typeof t)return t===e;return!1}};
/*!
 * Programatically add the following
 */
for(var a=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},o=97;o<123;o++)a[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)a[o-48]=o;for(o=1;o<13;o++)a["f"+o]=o+111;for(o=0;o<10;o++)a["numpad "+o]=o+96;var i,s=t.names=t.title={};for(o in a)s[a[o]]=o;for(i in r)a[i]=r[i]},RnVk:function(L,B,e){"use strict";e.r(B);var a,t,l=e("mXGw"),R=e("thVU"),n=e("czhI"),r=e.n(n),s=e("9va6"),K=e("9qTZ"),F=e("UleO"),u=e("Q7aK"),v=e("x8rX"),c=e("UpPA"),n=e("/m4v"),d=e("44nO"),p=e("IbnU"),m=e("lzW3"),o=e("cemM"),S=e("ddal"),M=e("hxag"),i=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(){return(f=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=(t=l.Component,i(g,t),g.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.languages,e=e.packageId,a=f({},this.state);Object(v.p)(e).then(function(e){e.data.err?t.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting languages",timer:3e3,hideProgress:!0}):0<e.data.result.length&&(a.stickerLanguages=e.data.result.map(function(e){return{list:{label:e.language,value:e.language_id,code:e.code},language_id:e.language_id,title:e.title,introduction:e.introduction,description:e.description,tags:e.tags}}),a.isChanged=!0),a.languages=n,t.componentState&&t.setState(a)}).catch(function(e){return console.log(e)})},g.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.stickerLanguages;n.isChanged&&!Object(s.isEqual)(t.stickerLanguages,a)&&(0,this.props.configChange)("languages",a)},g.prototype.componentWillUnmount=function(){this.componentState=!1},g.prototype.render=function(){var n=this,e=this.state,t=e.stickerLanguages,a=e._language,r=e.validation,o=e.isLanguageEditable,e=e.languages,i=Object.keys(a).some(function(e){return""===a[e]});return l.createElement("div",{className:"m-t-lg"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},l.createElement("form",{className:"m-b-lg"},l.createElement(d.a,{validationState:r.language.id.value},l.createElement(c.b,{isDisabled:!1,name:"languages",onChange:this.handleLanguageChange,value:a.list,options:e,placeholder:"Choose Language"})),l.createElement(d.a,{validationState:r.language.title.value},l.createElement(p.a,{type:"text",name:"title",onChange:this.handleLanguageDetailsChange,value:a.title,placeholder:"Name"}),l.createElement(m.a,null,r.language.title.message)),l.createElement(d.a,{validationState:r.language.introduction.value},l.createElement(p.a,{type:"text",name:"introduction",onChange:this.handleLanguageDetailsChange,value:a.introduction,placeholder:"Introduction"}),l.createElement(m.a,null,r.language.introduction.message)),l.createElement(d.a,{validationState:r.language.tags.value},l.createElement(p.a,{type:"text",name:"tags",onChange:this.handleLanguageDetailsChange,value:a.tags,placeholder:"Tags"}),l.createElement(m.a,null,r.language.tags.message)),l.createElement(d.a,{validationState:r.language.description.value},l.createElement(p.a,{rows:5,name:"description",componentClass:"textarea",placeholder:"Description",value:a.description,onChange:this.handleLanguageDetailsChange,className:"resize-v"}),l.createElement(m.a,null,r.language.description.message)),l.createElement("div",{className:"form-group m-b-none"},l.createElement("button",{disabled:i,className:"btn btn-default btn-addon",onClick:this.handleAddLanguage},l.createElement("i",{className:"fa "+(o?"fa-floppy-o":"fa-flag")}),o?"Save Language":"Add Language")))),l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},0<t.length&&l.createElement(M.a,{hover:!0,condensed:!0,responsive:!0},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"ID"),l.createElement("th",null,"Language"),l.createElement("th",null,"Title"),l.createElement("th",null,"Intro"),l.createElement("th",null,"Description"),l.createElement("th",null,"Tags"),l.createElement("th",null))),l.createElement("tbody",null,t.map(function(e,t){return l.createElement("tr",{key:e.language_id},l.createElement("td",null,t+1),l.createElement("td",null,e.list.label),l.createElement("td",null,e.title),l.createElement("td",null,e.introduction),l.createElement("td",null,e.description),l.createElement("td",null,e.tags),l.createElement("td",null,!o&&l.createElement("span",null,l.createElement("i",{className:"fa fa-pencil text-info wrapper-xs cursor-pointer",onClick:n.handleUpdateLanguage,id:e.language_id}),l.createElement("i",{className:"fa fa-times text-danger wrapper-xs cursor-pointer",onClick:n.handleDeleteLanguage,id:e.language_id}))))}))))),l.createElement(u.ToastContainer,null))},g);function g(e){var i=t.call(this,e)||this;return i.componentState=!0,i.handleLanguageChange=function(e){var t=f({},i.state);t._language.list=e,t._language.language_id=e.value,t.validation.language.id.value=e?"success":"error",t.validation.language.id.message=e?"":"This field is required",i.setState(t)},i.handleLanguageDetailsChange=function(e){var t,e=e.currentTarget,n=e.value,e=e.name;i.state._language[e]!==n&&((t=f({},i.state)).validation.language[e].value=""===n?"error":"success",t.validation.language[e].error=""===n?"This field is required":"",t._language[e]=n,i.setState(t))},i.handleAddLanguage=function(e){e.preventDefault();var e=i.state,t=e._language,n=e.stickerLanguages,e=e.isLanguageEditable,a=i.props.packageId,r=f({},i.state),o={list:t.list,language_id:t.list.value,title:t.title,introduction:t.introduction,description:t.description,tags:t.tags},t=n.some(function(e){return e.language_id.toString()===o.language_id.toString()});e||t?Object(v.y)(a,o.language_id,o).then(function(e){if(e.data.err)i.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0});else{for(var t in r.stickerLanguages=n.map(function(e){return e=e.language_id===o.language_id?o:e}),r._language)r._language.hasOwnProperty(t)&&(r._language[t]="");for(var t in r.validation.language)r.validation.language.hasOwnProperty(t)&&(r.validation.language[t].value=null,r.validation.language[t].error="");r.isLanguageEditable=!1,r.isChanged=!0,i.componentState&&i.setState(r)}}).catch(function(e){return console.log(e)}):Object(v.c)(a,o.language_id,o).then(function(e){if(e.data.err)i.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0});else{for(var t in r.stickerLanguages=n.slice(),r.stickerLanguages.push(o),r._language)r._language.hasOwnProperty(t)&&(r._language[t]="");for(var t in r.validation.language)r.validation.language.hasOwnProperty(t)&&(r.validation.language[t].value=null,r.validation.language[t].error="");r.isChanged=!0,i.componentState&&i.setState(r)}}).catch(function(e){return console.log(e)})},i.handleDeleteLanguage=function(e){e.preventDefault();var t=i.state.stickerLanguages,n=i.props.packageId,a=f({},i.state),r=parseInt(e.currentTarget.id),e=t.find(function(e){return e.language_id===r});Object(v.j)(n,e.language_id).then(function(e){e.data.err?i.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0}):(a.stickerLanguages=t.filter(function(e){return e.language_id!==r}),a.isChanged=!0,i.componentState&&i.setState(a))}).catch(function(e){return console.log(e)})},i.handleUpdateLanguage=function(e){e.preventDefault();var t,n=i.state.stickerLanguages,a=f({},i.state),r=parseInt(e.currentTarget.id);for(t in a._language=f({},n.find(function(e){return e.language_id===r})),a.isLanguageEditable=!0,a.validation.language)a.validation.language.hasOwnProperty(t)&&(a.validation.language[t].value=null,a.validation.language[t].error="");i.componentState&&i.setState(a)},i.state={languages:[],stickerLanguages:[],isLanguageEditable:!1,validation:{language:{id:{value:null,message:""},title:{value:null,message:""},introduction:{value:null,message:""},description:{value:null,message:""},tags:{value:null,message:""}}},_language:{list:"",language_id:"",title:"",introduction:"",description:"",tags:""},isChanged:!1},i}var Y,J,G=Object(n.b)(function(e){return Object(o.a)(e)},function(){return{}})(i),z=e("YHpT"),i=(Y=function(e,t){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(){return(h=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=(J=l.Component,i(b,J),b.prototype.componentDidMount=function(){var e=this.props,t=e.configurations,e=e.countries;this.setState({countries:e,stickerCountries:t.countries})},b.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.stickerCountries;n.isChanged&&!Object(s.isEqual)(t.stickerCountries,a)&&(0,this.props.configChange)("countries",a)},b.prototype.componentWillUnmount=function(){this.componentState=!1},b.prototype.render=function(){var n=this,e=this.state,t=e.stickerCountries,a=e.countries,r=e._country,o=e.checked,i=e.excludedCountries,e=e.validation.country;return l.createElement("div",{className:"m-t-lg"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},l.createElement("form",{className:"m-b-lg"},o?l.createElement(d.a,{validationState:null},l.createElement(c.b,{isDisabled:!1,isMulti:!0,closeMenuOnSelect:!1,name:"excludedCountries",onChange:this.handleExcludeCountries,value:i,options:a,placeholder:"Exclude country"})):l.createElement(d.a,{validationState:e.id.value},l.createElement(c.b,{isDisabled:!1,name:"countries",onChange:this.handleCountryChange,value:r.list,options:a,placeholder:"Choose country"})),l.createElement("div",{className:"form-group m-b-none"},l.createElement("button",{disabled:""===r.list,className:"btn btn-default btn-addon",onClick:this.handleAddCountry},l.createElement("i",{className:"fa fa-globe"}),"Add Country")))),l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},0<t.length&&l.createElement(M.a,{hover:!0,condensed:!0,responsive:!0},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"ID"),l.createElement("th",null,"Country"),l.createElement("th",null))),l.createElement("tbody",null,o?l.createElement("tr",null,l.createElement("td",null,"1"),l.createElement("td",null,"World Wide"),l.createElement("td",{onClick:this.handleDeleteCountry,id:"0"},l.createElement("i",{className:"fa fa-times text-danger wrapper-xs cursor-pointer f-r"}))):t.map(function(e,t){return l.createElement("tr",{key:t},l.createElement("td",null,t+1),l.createElement("td",null,e.label),l.createElement("td",{onClick:n.handleDeleteCountry,id:e.country_id},l.createElement("i",{className:"fa text-danger fa-times wrapper-xs cursor-pointer f-r"})))}))))),l.createElement(u.ToastContainer,null))},b);function b(e){var c=J.call(this,e)||this;return c.componentState=!0,c.handleCountryChange=function(e){var t=h({},c.state);t._country.list=e,t.validation.country.id.value=e?"success":"error",t.validation.country.id.message=e?"":"This field is required",c.setState(t)},c.handleCountryInputChange=function(e){var t,e=e.currentTarget,n=e.value,e=e.name;!Object(z.o)(n)&&""!==n||((t=h({},c.state)).validation.country[e].value=""===n?"error":"success",t.validation.country[e].message=""===n?"This field is required":"",t._country[e]=n,c.setState(t))},c.handleAddCountry=function(e){e.preventDefault();var e=c.state,t=e._country,n=e.countries,a=e.checked,r=e.stickerCountries,e=(e.excludedCountries,c.props.packageId),o=h({},c.state),i=t.list,t=null,s=!1;a?t=i.map(function(e){return e.region_code}):(s=r.some(function(e){return e.region_code===i.region_code}))||(t=[i.region_code]),Object(v.b)(e,{region_codes:t}).then(function(e){if(e.data.err)c.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0});else{if(a)if(n.length===i.length)o.stickerCountries=i;else for(var t in o.stickerCountries=r.slice(),i)i.hasOwnProperty(t)&&o.stickerCountries.push(i[t]);else s||(o.stickerCountries=r.slice(),o.stickerCountries.push(i),o._country.list="");o.validation.country.id.value=a?"success":null,o.isChanged=!0,c.componentState&&c.setState(o)}}).catch(function(e){return console.log(e)})},c.handleDeleteCountry=function(e){e.preventDefault();var t=c.state,n=t.stickerCountries,a=t.checked,r=t._country,t=c.props.packageId,o=h({},c.state),i=parseInt(e.currentTarget.id);Object(v.i)(t,i).then(function(e){e.data.err?c.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0}):(o.stickerCountries=a?[]:n.filter(function(e){return e.country_id!==i}),o._country={list:a?r.list:""},o.isChanged=!0,o.validation.country.id.value=a?"success":null,c.componentState&&c.setState(o))}).catch(function(e){return console.log(e)})},c.handleSelectAllCountries=function(e){var t,e=e.currentTarget.checked,n=c.state.countries,a=h({},c.state);for(t in a.stickerCountries=[],a.excludedCountries="",a._country={list:e?n:""},a.validation.country)a.validation.country.hasOwnProperty(t)&&(a.validation.country[t].value=null,a.validation.country[t].message="");a.validation.country.id.value=e?"success":null,a.checked=e,c.setState(a)},c.handleExcludeCountries=function(e){var t=h({},c.state),n=c.state.countries,a=e.map(function(e){return e.country_id});t.excludedCountries=e,t._country.list=n.filter(function(e){return!a.includes(e.country_id)}),c.setState(t)},c.state={countries:[],checked:!1,_country:{list:""},validation:{country:{id:{value:null,message:""}}},stickerCountries:[],excludedCountries:[],isChanged:!1},c}var q,H,W=Object(n.b)(function(e){return Object(o.a)(e)},function(e){return{}})(i),k=e("2Fcx"),i=(q=function(e,t){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(){return(y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=(H=l.Component,i(O,H),O.prototype.componentDidMount=function(){var n=this,e=this.props.configurations,a=y({},this.state);r.a.all([Object(v.t)(),Object(v.u)()]).then(r.a.spread(function(e,t){e.data.err?n.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting categories",timer:3e3,hideProgress:!0}):0<(e=e.data.result).length&&(a.categories=e.map(function(e){return{label:e.name,value:e.package_category_id}})),t.data.err?n.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting statuses",timer:3e3,hideProgress:!0}):0<(e=t.data.result).length&&(a.statuses=e.map(function(e){return{label:e.name,value:e.package_status_id}})),n.componentState&&n.setState(a)})).catch(function(e){return console.log(e)}),a.stickerPlatforms=e.platforms,a.stickerCategories=e.categories,a.stickerStatus=e.status,this.setState(a)},O.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.stickerStatus,r=n.stickerCategories,o=n.stickerPlatforms,n=n.isChanged,i=this.props.configChange;n&&(Object(s.isEqual)(t.stickerStatus,a)||i("status",a),Object(s.isEqual)(t.stickerCategories,r)||i("categories",r),Object(s.isEqual)(t.stickerPlatforms,o)||i("platforms",o))},O.prototype.componentWillUnmount=function(){this.componentState=!1},O.prototype.render=function(){var e=this.props.platforms,t=this.state,n=t.categories,a=t.statuses,r=t.stickerPlatforms,o=t.stickerCategories,t=t.stickerStatus;return l.createElement("div",{className:"m-t-lg"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},l.createElement("form",{className:"m-b-lg"},l.createElement(d.a,null,l.createElement(k.a,{bsClass:"font-bold",htmlFor:"category"},"Category"),l.createElement(c.b,{isMulti:!0,id:"category",closeMenuOnSelect:!1,isClearable:!1,name:"category",onChange:this.handleCategoryChange,value:o,options:n,placeholder:"Choose category"})),l.createElement(d.a,null,l.createElement(k.a,{bsClass:"font-bold",htmlFor:"platforms"},"Platforms"),l.createElement(c.b,{isMulti:!0,id:"platforms",closeMenuOnSelect:!1,name:"platforms",onChange:this.handlePlatformsChange,value:r,options:e,placeholder:"Choose platform"})),l.createElement(d.a,{validationState:null},l.createElement(k.a,{bsClass:"font-bold",htmlFor:"status"},"Status"),l.createElement(c.b,{isClearable:!1,isMulti:!1,id:"status",closeMenuOnSelect:!0,name:"status",onChange:this.handleStatusChange,value:t,options:a,placeholder:"Choose status"}))))),l.createElement(u.ToastContainer,null))},O);function O(e){var o=H.call(this,e)||this;return o.componentState=!0,o.handleCategoryChange=function(t,e){var n=o.props.packageId,a=y({},o.state),r=null;"select-option"===e.action?r=Object(v.a)(n,{category_ids:[e.option.value]}):"remove-value"===e.action&&(r=Object(v.h)(n,e.removedValue.value)),r.then(function(e){e.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0}):(a.stickerCategories=t,a.isChanged=!0,o.componentState&&o.setState(a))}).catch(function(e){return console.log(e)})},o.handlePlatformsChange=function(t,e){var n=o.props.packageId,a=y({},o.state),r=null;"select-option"===e.action?r=Object(v.d)(n,{platform_ids:[e.option.platform_id]}):"remove-value"===e.action&&(r=Object(v.k)(n,e.removedValue.platform_id)),r.then(function(e){e.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0}):(a.stickerPlatforms=t,a.isChanged=!0,o.componentState&&o.setState(a))}).catch(function(e){return console.log(e)})},o.handleStatusChange=function(t,e){var n=t,a=o.props.packageId,r=y({},o.state);"select-option"===e.action&&Object(v.e)(a,{status_id:n.value}).then(function(e){e.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",timer:3e3,hideProgress:!0}):(r.stickerStatus=t,r.isChanged=!0,o.componentState&&o.setState(r))}).catch(function(e){return console.log(e)})},o.state={stickerCategories:null,stickerStatus:null,stickerPlatforms:null,categories:[],statuses:[],isChanged:!1},o}var X,$,Z=Object(n.b)(function(e){return Object(o.a)(e)},function(){return{}})(i),E=e("XdbE"),n=(X=function(e,t){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(){return(j=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function C(e){var a=$.call(this,e)||this;return a.componentState=!0,a.handlePillChange=function(t){var e=j({},a.state),n=e.pills.find(function(e){return e.eventKey===t});e.active={eventKey:n.eventKey,eventClass:n.eventClass},a.setState(e)},a.handleStickerConfigChange=function(e,t){var n=j({},a.state);n.configurations[e]=t,a.setState(n)},a.state={pills:[{eventKey:E.J.TABS.CONFIGURATIONS.TABS.LANGUAGES,eventClass:G,title:"Languages"},{eventKey:E.J.TABS.CONFIGURATIONS.TABS.COUNTRIES,eventClass:W,title:"Countries"},{eventKey:E.J.TABS.CONFIGURATIONS.TABS.SETTINGS,eventClass:Z,title:"Settings"}],active:{eventKey:E.J.TABS.CONFIGURATIONS.TABS.LANGUAGES,eventClass:G},configurations:{languages:[],countries:[],platforms:null,categories:null,status:null}},a}$=l.Component,n(C,$),C.prototype.componentDidMount=function(){var o=this,e=this.props.stickerPackage.packageId;r.a.all([Object(v.n)(e),Object(v.q)(e),Object(v.m)(e),Object(v.r)(e)]).then(r.a.spread(function(e,t,n,a){var r=j({},o.state);e.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting countries",timer:3e3,hideProgress:!0}):0<e.data.result.length&&(r.configurations.countries=e.data.result.map(function(e){return{country_id:e.country_id,label:e.name,region_code:e.region_code,value:e.country_id}})),t.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting platforms",timer:3e3,hideProgress:!0}):0<t.data.result.length&&(r.configurations.platforms=t.data.result.map(function(e){return{label:e.name,value:e.name,platform_id:e.platform_id}})),n.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting categories",timer:3e3,hideProgress:!0}):0<n.data.result.length&&(r.configurations.categories=n.data.result.map(function(e){return{label:e.name,value:e.category_id}})),a.data.err?o.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error when getting status",timer:3e3,hideProgress:!0}):a.data.result&&(r.configurations.status={label:a.data.result.name,value:a.data.result.package_status_id}),o.componentState&&o.setState(r)})).catch(function(e){return console.log(e)})},C.prototype.componentWillUnmount=function(){this.componentState=!1},C.prototype.render=function(){var e=this.state,t=e.pills,n=e.active,a=e.configurations,e=this.props,r=e.changeStep,e=e.stickerPackage.packageId,o=Object.keys(a).every(function(e){return!Object(s.isEmpty)(a[e])});return l.createElement("div",{className:"container-fluid no-padder"},l.createElement("div",{className:"row b-b b-t"},l.createElement("div",{className:"col-lg-offset-2 col-lg-8"},l.createElement(K.a,{bsClass:"nav nav-pills nav-justified m-t-lg",id:"pill-panel",justified:!0,activeKey:n.eventKey,onSelect:this.handlePillChange},t.map(function(e){return l.createElement(F.a,{key:e.eventKey,eventKey:e.eventKey,title:e.title},e.title)}))),l.createElement("div",{className:"col-lg-12"},l.createElement("div",{className:"container-fluid no-padder"},l.createElement(n.eventClass,{configChange:this.handleStickerConfigChange,configurations:a,packageId:e},null)))),l.createElement("div",{className:"row wrapper"},l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-default",onClick:r,"data-tab-key":E.J.TABS.ARRANGE},"Back")),l.createElement("div",{className:"col-lg-offset-4 col-lg-4"},l.createElement("button",{disabled:!o,onClick:r,className:"btn btn-info pull-right","data-tab-key":E.J.TABS.PUBLISH},"Next"))),l.createElement(u.ToastContainer,null))};var V,Q,ee=C,i=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(){return(N=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function w(e){var o=Q.call(this,e)||this;return o.componentState=!0,o.handlePackageDescriptionChange=function(e){var e=e.currentTarget,t=e.name,e=e.value,n=o.state.packageDescription,a=N({},o.state);a.packageDescription[t]=e,a.validation[t].value=""===e?"error":"success",a.validation[t].message=""===e?"This field is required":"",a.isUpdate=e===n[t],a.complete=!1,o.setState(a)},o.handleUpdateDescription=function(e){e.preventDefault();var t=o.state.packageDescription,n=N({},o.state),e=o.props.stickerPackage.packageId;if(Object.keys(t).every(function(e){return""!==t[e]})&&e){var a=Object(S.d)("info",{title:"Updating...",description:""});n.isUpdate=!1,n.loading=!0,o.setState(n),Object(v.x)(e,t).then(function(e){if(e.data.err)Object(S.d)("error",{title:"You got an error!",description:"Your changes is not updated for unknown reason",id:a});else{for(var t in n.validation)n.validation.hasOwnProperty(t)&&(n.validation[t].value=null,n.validation[t].message="");n.complete=!0,Object(S.d)("success",{title:"Success!",description:"Your changes is saved",id:a})}n.loading=!1,o.componentState&&o.setState(n)}).catch(function(e){return console.log(e)})}else{for(var r in t)t.hasOwnProperty(r)&&""===t[r]&&(n.validation[r].value="error",n.validation[r].message="This field is required");o.setState(n)}},o.state={packageDescription:{name:"",note:"",copyright:"",orderNumber:""},packageNumber:null,validation:{name:{value:null,message:""},note:{value:null,message:""},copyright:{value:null,message:""},orderNumber:{value:null,message:""}},isUpdate:!1,loading:!1,complete:!1},o}Q=l.Component,i(w,Q),w.prototype.componentDidMount=function(){var n=this,e=this.props,t=e.stickerPackage.packageId,a=e.changeBlockCount,r=e.saveUploadedIcons;Object(v.o)(t).then(function(e){var t=N({},n.state);e.data.err||(e=e.data.result,t.packageDescription.name=e.name,t.packageDescription.note=e.note,t.packageDescription.copyright=e.copyright,t.packageDescription.orderNumber=e.order_number.toString(),t.packageNumber=parseInt(e.package_number),e.coords?a(e.coords.length):r(null,!0)),n.componentState&&n.setState(t)}).catch(function(e){return console.log(e)})},w.prototype.componentDidUpdate=function(e,t){var n=this.state.packageNumber;Object(s.isEqual)(t.packageNumber,n)||(0,this.props.setPackageNumber)(n)},w.prototype.render=function(){var e=this.state,t=e.packageDescription,n=e.validation,a=e.isUpdate,r=e.loading,e=e.complete,o=this.props.changeStep;return l.createElement("div",{className:"container-fluid no-padder"},l.createElement("div",{className:"row b-t b-b wrapper-md scroll-340"},l.createElement("div",{className:"col-lg-offset-3 col-lg-6"},l.createElement(d.a,{validationState:n.name.value},l.createElement(k.a,{htmlFor:"packageName"},"Internal Name"),l.createElement(p.a,{name:"name",value:t.name,onChange:this.handlePackageDescriptionChange,id:"packageName",placeholder:"Internal Name"}),l.createElement(m.a,null,n.name.message))),l.createElement("div",{className:"col-lg-offset-3 col-lg-6"},l.createElement(d.a,{validationState:n.note.value},l.createElement(k.a,{htmlFor:"packageNote"},"Internal Note"),l.createElement(p.a,{name:"note",value:t.note,onChange:this.handlePackageDescriptionChange,id:"packageNote",placeholder:"Internal Note"}),l.createElement(m.a,null,n.note.message))),l.createElement("div",{className:"col-lg-offset-3 col-lg-6"},l.createElement(d.a,{validationState:n.copyright.value},l.createElement(k.a,{htmlFor:"packageCopyright"},"Copyright"),l.createElement(p.a,{name:"copyright",value:t.copyright,onChange:this.handlePackageDescriptionChange,id:"packageCopyright",placeholder:"Copyright"}),l.createElement(m.a,null,n.copyright.message))),l.createElement("div",{className:"col-lg-offset-3 col-lg-6"},l.createElement(d.a,{validationState:n.orderNumber.value},l.createElement(k.a,{htmlFor:"packageOrder"},"Sticker Pack Order"),l.createElement(p.a,{type:"number",min:"1",name:"orderNumber",value:t.orderNumber,onChange:this.handlePackageDescriptionChange,id:"packageOrder",placeholder:"Sticker Pack Order"}),l.createElement(m.a,null,n.orderNumber.message)))),l.createElement("div",{className:"row wrapper"},l.createElement("div",{className:"col-lg-offset-8 col-lg-4"},l.createElement("button",{className:"btn btn-info pull-right",onClick:o,"data-tab-key":E.J.TABS.UPLOAD},"Next"),l.createElement("button",{disabled:!a||r,className:"btn btn-default pull-right m-r-sm",onClick:this.handleUpdateDescription},"Update",r?l.createElement("i",{className:"fa fa-spinner fa-spin m-l-xs"}):e?l.createElement("i",{className:"fa fa-check m-l-xs"}):null))),l.createElement(u.ToastContainer,null))};var te,ne,ae=w,re=e("awmf"),x=e("BSbX"),n=(te=function(e,t){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_=function(){return(_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},oe=function(e,i,s,c){return new(s=s||Promise)(function(n,t){function a(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(a,r)}o((c=c.apply(e,i||[])).next())})},ie=function(a,r){var o,i,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(a,c)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},se=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&a>=e.length?void 0:e)&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function P(e){var O=ne.call(this,e)||this;return O.height=50,O.width=93,O.componentState=!0,O.handleBlockCountChange=function(e){var t,e=e.currentTarget.value,e=parseInt(e),n=O.props.changeBlockCount;2<=e&&e%2==0&&(t=Object(x.a)(e),O.setState({blocksCount:e,seatedStickers:{},seatedStickerNumber:1e3,blocks:t,isSaved:!1,nextStep:!1}),n(e))},O.handleSelectSticker=function(e){var t=e.currentTarget.id,e=O.state.selectedSticker,n=O.props.stickerPackage.stickers;e&&e.id===t?O.setState({selectedSticker:null}):((e=_({},O.state)).selectedSticker=n.find(function(e){return e.id===t}),O.setState(e))},O.handleSelectBlock=function(t,n){var e=O.state,a=e.selectedSticker,r=e.blocks,e=e.selectedBlocks;a&&!r[t][n].imageSet&&(a="green"===r[t][n].color,r=_({},O.state),a?(r.blocks[t][n].color="",r.blocks[t][n].selected=!1,r.selectedBlocks=e.filter(function(e){return e.i!==t&&e.j!==n})):(r.blocks[t][n].color="green",r.blocks[t][n].selected=!0,r.selectedBlocks.push({i:t,j:n})),O.setState(r))},O.handleSetSticker=function(){var t,e,n,a,r=_({},O.state),o=O.props,i=o.stickerPackage,s=i.packageNumber,i=i.stickers,o=o.setStickers,c=O.state,l=c.selectedSticker,u=c.selectedBlocks,d=c.blocksCount,c=c.seatedStickerNumber,p=Object(x.d)(u,d),u=s+"_"+c,d=Object(S.a)(l.file,{name:u});r.seatedStickers[u]={styles:{marginTop:p.min.i*O.height+"px",marginLeft:p.min.j*O.width+"px",height:(p.max.i-p.min.i+1)*O.height+"px",width:(p.max.j-p.min.j+1)*O.width+"px"},blobUrl:URL.createObjectURL(l.file),file:d,id:l.id,maxMin:p},r.selectedSticker=null,r.seatedStickerNumber+=1;try{for(var m=se(r.blocks),f=m.next();!f.done;f=m.next()){var g=f.value;try{n=void 0;for(var h=se(g),b=h.next();!b.done;b=h.next()){var v=b.value;v.selected=!1,"black"!==v.color&&(v.color="")}}catch(e){n={error:e}}finally{try{b&&!b.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=m.return)&&e.call(m)}finally{if(t)throw t.error}}r.selectedBlocks=[];for(var k=p.min.i;k<p.max.i+1;k++)for(var y=p.min.j;y<p.max.j+1;y++)r.blocks[k][y].imageSet=!0,r.blocks[k][y].color="black";r.nextStep=r.seatedStickers&&i&&Object.keys(r.seatedStickers).length===i.length,o(r.seatedStickers),O.setState(r)},O.handleResetSticker=function(){for(var e=_({},O.state),t=O.props,n=t.setStickers,a=t.stickerPackage.packageNumber,t=O.state,r=t.selectedSticker,o=t.seatedStickers,t=t.seatedStickerNumber,i={},s=Object.keys(o).find(function(e){return o[e].id.toString()===r.id}).toString(),c=o[s].maxMin,l=c.min.i;l<c.max.i+1;l++)for(var u=c.min.j;u<c.max.j+1;u++)e.blocks[l][u].imageSet=!1;var d,p=t-Object.keys(o).length;for(d in o)o.hasOwnProperty(d)&&o[d].id.toString()!==r.id.toString()&&(i[a+"_"+p]=o[d],p++);for(l=c.min.i;l<c.max.i+1;l++)for(u=c.min.j;u<c.max.j+1;u++)e.blocks[l][u].imageSet=!1,e.blocks[l][u].color="";e.seatedStickers=i,e.seatedStickerNumber=p,e.isSaved=!1,e.nextStep=!1,n(e.seatedStickers),O.setState(e)},O.handleCreateTxtFiles=function(r,e){for(var t,o=Object(x.b)(e),n=[],i=0;i<e;i++){var a,s=[];for(a in r)!function(t){var n,a;r.hasOwnProperty(t)&&(a=n=!1,o[i].map(function(e){e.includes(r[t].maxMin.min.j)&&e.includes(r[t].maxMin.min.i)&&(n=!0),e.includes(r[t].maxMin.max.j)&&e.includes(r[t].maxMin.max.i)&&(a=!0)}),n&&a&&s.push({xCount:(Math.abs(r[t].maxMin.min.j-r[t].maxMin.max.j)+1).toString(),yCount:(Math.abs(r[t].maxMin.min.i-r[t].maxMin.max.i)+1).toString(),startX:r[t].maxMin.min.j.toString(),startY:r[t].maxMin.min.i.toString(),name:t.toString()}))}(a);n.push(((t={})["box"+(i+1)+".txt"]=s,t))}return n},O.handleSeatedStickersSave=function(f){return oe(O,void 0,void 0,function(){var t,n,a,r,o,i,s,c,l,u,d,p,m=this;return ie(this,function(e){switch(e.label){case 0:if(f.preventDefault(),l=this.state,t=l.seatedStickers,u=l.blocksCount,l.loading)return[2];for(c in(n=_({},this.state)).loading=!0,n.complete=!1,this.setState(n),a={},t)t.hasOwnProperty(c)&&(a[c]={file:t[c].file,maxMin:t[c].maxMin});for(c in l=this.props.stickerPackage,r=l.icons,o=l.preview,i=l.packageId,s=new FormData,a)a.hasOwnProperty(c)&&s.append(c,a[c].file);return l=JSON.stringify(this.handleCreateTxtFiles(t,u)),s.append("avatar",r.avatar),s.append("icon",r.icon),s.append("banner",r.banner),s.append("unavailable_icon",r.unavailable_icon),s.append("preview",o),s.append("config",l),u=Object(S.d)("info",{title:"Uploading...",description:""}),[4,Object(v.z)(i,s)];case 1:return e.sent().data.err?[3,3]:(Object(S.d)("success",{title:"Uploaded!",description:"Your files is successfully uploaded",id:u}),d=Object(S.d)("info",{title:"Building...",description:""}),[4,Object(v.f)(i)]);case 2:return e.sent().data.err?Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",id:d}):(Object(S.d)("success",{title:"Success!",description:"Build process is successfully completed",id:d}),p=Object(S.d)("info",{title:"Publish...",description:""}),setTimeout(function(){return oe(m,void 0,void 0,function(){return ie(this,function(e){switch(e.label){case 0:return[4,Object(v.w)(i)];case 1:return e.sent().data.err?Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",id:p}):(Object(S.d)("success",{title:"Success!",description:"Your changes is successfully saved",id:p}),n.complete=!0,n.loading=!1,n.isSaved=!0,this.componentState&&this.setState(n)),[2]}})})},4e3)),[3,4];case 3:Object(S.d)("error",{title:"You got an error!",description:"Your changes is not saved for unknown reason",id:u}),e.label=4;case 4:return[2]}})})},O.state={blocksCount:E.K.DEFAULT,blocks:[],selectedSticker:null,seatedStickers:{},seatedStickerNumber:1e3,selectedBlocks:[],previewBlobUrl:"",complete:!0,loading:!1,nextStep:!1,isSaved:!1},O}ne=l.Component,n(P,ne),P.prototype.componentDidMount=function(){var e,t=this.props.stickerPackage,n=t.preview,a=t.seatedStickers,r=t.blocksCount,t=t.stickers,o=this.state.seatedStickerNumber,i=Object(x.a)(r),s=_({},this.state);for(e in a)if(a.hasOwnProperty(e))for(var c=a[e].maxMin.min.i;c<a[e].maxMin.max.i+1;c++)for(var l=a[e].maxMin.min.j;l<a[e].maxMin.max.j+1;l++)i[c][l].imageSet=!0,i[c][l].color="black";s.previewBlobUrl=URL.createObjectURL(n),s.seatedStickers=a,s.blocks=i,s.blocksCount=r,a&&0<Object.keys(a).length&&(s.seatedStickerNumber=o+Object.keys(a).length),s.nextStep=s.seatedStickers&&t&&Object.keys(s.seatedStickers).length===t.length,this.setState(s)},P.prototype.componentWillUnmount=function(){this.componentState=!1},Object.defineProperty(P.prototype,"numberOfBoxes",{get:function(){for(var e=this.state.blocksCount,t=[],n=0;n<E.K.LIMIT;n+=2)t.push(l.createElement(re.a,{key:n,inline:!0,name:"blockCount",checked:n+2===e,value:n+2,onChange:this.handleBlockCountChange}," ",n+2));return t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"table",{get:function(){var a=this,e=this.state.blocks;return e&&e.map(function(e,n){return l.createElement("tr",{key:n,style:n%4==0&&0!==n?{borderTop:"3px solid black"}:{}},e.map(function(e,t){return l.createElement("td",{style:{height:"50px",backgroundColor:e.color},onClick:function(){return a.handleSelectBlock(n,t)},key:e.id})}))})},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"stickerIsSet",{get:function(){var e=this.state,t=e.seatedStickers,n=e.selectedSticker;return n&&Object.keys(t).some(function(e){return t[e].id===n.id})},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showSetSticker",{get:function(){var e=this.state,t=e.blocks,n=e.blocksCount,e=e.selectedBlocks,a=Object(x.d)(e,n),r=!0;if(-1===a.max.i||-1===a.max.j||a.min.i===4*n||a.min.j===4*n)return!1;for(var o=a.min.i;o<a.max.i+1;o++)for(var i=a.min.j;i<a.max.j+1;i++)t[o][i].selected||(r=!1);return r},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showSeatedStickers",{get:function(){var e,t=this.state.seatedStickers,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(l.createElement("div",{key:e,style:_(_({},t[e].styles),{position:"absolute",zIndex:10})},l.createElement("div",{style:{backgroundImage:"url("+t[e].blobUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",marginLeft:"5%",marginTop:"5%",height:"90%",width:"90%"}})));return n},enumerable:!1,configurable:!0}),P.prototype.render=function(){var n=this,e=this.props,t=e.changeStep,e=e.stickerPackage.stickers,a=this.state,r=a.selectedSticker,o=a.previewBlobUrl,i=a.complete,s=a.nextStep,c=a.loading,a=a.isSaved;return l.createElement("div",{className:"container-fluid no-padder"},l.createElement("div",{className:"row b-t b-b wrapper-md scroll-sticker",style:{height:window.innerHeight/2}},l.createElement("div",{className:"col-lg-12"},l.createElement("p",{className:"text-center font-bold text-base m-b-lg"},"(1) Choose a Sticker, (2) Select the sticker cells on the Preview grid, (3) Press “Set Sticker”")),l.createElement("div",{className:"col-lg-12"},l.createElement("div",{className:"form-group text-center"},l.createElement("label",{htmlFor:"block-count",className:"font-bold m-r"},"Number of Boxes"),this.numberOfBoxes)),l.createElement("div",{className:"col-lg-6"},e.map(function(e,t){return l.createElement("img",{key:t,onClick:n.handleSelectSticker,className:"h-100 w-100 contain cursor-pointer "+(r&&e.id===r.id?"img-thumbnail":"sticker"),src:e.blobUrl,id:e.id})})),l.createElement("div",{className:"col-lg-6"},this.showSeatedStickers,l.createElement(M.a,{hover:!0,condensed:!0,responsive:!0,style:{width:"376px"}},l.createElement("tbody",{style:{backgroundImage:"url("+o+")",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},this.table)))),l.createElement("div",{className:"row wrapper"},l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-default",onClick:t,"data-tab-key":E.J.TABS.UPLOAD},"Back")),l.createElement("div",{className:"col-lg-4 text-center"},this.stickerIsSet?l.createElement("button",{className:"btn btn-danger btn-block",onClick:this.handleResetSticker},"Reset"):this.showSetSticker?l.createElement("button",{className:"btn btn-info btn-block",onClick:this.handleSetSticker},"Set sticker"):l.createElement("span",{className:"text-info"},r?"(2) Select Sticker Cells":"(1) Choose a Sticker")),l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-info pull-right","data-tab-key":E.J.TABS.CONFIGURATIONS.BASE,disabled:!i,onClick:t},"Next"),l.createElement("button",{className:"btn btn-default pull-right m-r-sm",onClick:this.handleSeatedStickersSave,disabled:!s||a},"Save & Publish",c?l.createElement("i",{className:"fa fa-spinner fa-spin m-l-xs"}):a?l.createElement("i",{className:"fa fa-check m-l-xs"}):null))),l.createElement(u.ToastContainer,null))};var ce,U,le=P,i=(ce=function(e,t){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function ue(){return null!==U&&U.apply(this,arguments)||this}U=l.Component,i(ue,U),ue.prototype.render=function(){var e=this.props.changeStep;return l.createElement("div",{className:"container-fluid no-padder"},l.createElement("div",{className:"row b-b b-t"},l.createElement("div",{className:"col-lg-offset-4 col-lg-4"},l.createElement("div",{className:"m-b-lg m-t-lg text-center"},l.createElement("button",{disabled:!0,className:"btn btn-default m-b-xs btn-sm btn-addon"},"Upload ",l.createElement("i",{className:"fa fa-upload"})))),l.createElement("div",{className:"col-lg-offset-3 col-lg-6"},l.createElement("div",{className:"list-group m-b-lg"},l.createElement("li",{className:"list-group-item flexible"},l.createElement("span",{className:"font-bold"},"Step 1"),l.createElement("i",{className:"fa fa-check text-success"})),l.createElement("li",{className:"list-group-item flexible"},l.createElement("span",{className:"font-bold"},"Step 2"),l.createElement("i",{className:"fa fa-check text-success"}))))),l.createElement("div",{className:"row wrapper"},l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-default",onClick:e,"data-tab-key":E.J.TABS.CONFIGURATIONS.BASE},"Back")),l.createElement("div",{className:"col-lg-4"}),l.createElement("div",{className:"col-lg-4"},l.createElement(R.a,{className:"btn btn-default f-r",to:"/stickers"},"Go to the list"))))};var de,pe,me=ue,e=(de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=function(){return(T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},fe=function(e,i,s,c){return new(s=s||Promise)(function(n,t){function a(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(a,r)}o((c=c.apply(e,i||[])).next())})},ge=function(a,r){var o,i,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(a,c)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},he=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&a>=e.length?void 0:e)&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function A(e){var a=pe.call(this,e)||this;return a.componentState=!0,a.handleFileUpload=function(e){e.preventDefault();var t=T({},a.state),n=e.currentTarget.name,e=Object(S.a)(e.target.files[0],{name:n});e&&0<e.size&&E.n.includes(e.type)?("preview"===n?t[n]=e:t.icons[n]=e,a.setState(t)):Object(S.d)("error",{title:"You got an error!",description:"You have upload unsupported image",hideProgress:!0,timer:3e3})},a.handleStickersUpload=function(e){e.preventDefault();var t=T({},a.state),n=e.target.files;0<n.length&&(Object.keys(n).some(function(e){e=n[e];return!e||!E.n.includes(e.type)})?a.componentState&&Object(S.d)("error",{title:"You got an error!",description:"You have upload unsupported image",hideProgress:!0,timer:3e3}):(t.stickers=Object.keys(n).map(function(e){var e=n[e],t=e.type.replace("image/","");return{id:e.name.replace("."+t,""),file:e,blobUrl:URL.createObjectURL(e)}}),a.setState(t)))},a.handleStickerDelete=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-sticker-id"),e=T({},a.state);e.stickers=e.stickers.filter(function(e){return e.id!==t}),a.setState(e)},a.state={icons:{avatar:null,icon:null,unavailable_icon:null,banner:null},stickers:[],preview:null,nextStep:!1,loading:!0},a}pe=l.Component,e(A,pe),A.prototype.componentDidMount=function(){var e=this,t=this.props,g=t.stickerPackage,h=t.saveUploadedIcons,b=T({},this.state);if(g.isLoaded){for(var n in g.icons)g.icons.hasOwnProperty(n)&&(b.icons[n]=g.icons[n]);b.stickers=g.stickers,b.preview=g.preview,b.loading=!1,this.setState(b)}else fe(e,void 0,void 0,function(){var t,n,a,r,o,i,s,c,l,u,d,p,m,f;return ge(this,function(e){switch(e.label){case 0:return e.trys.push([0,17,,18]),[4,Object(v.v)(g.packageId)];case 1:if((n=e.sent()).data.err)return[3,15];t=Object.keys(E.J.UPLOAD.icons).map(function(e){return e}),n=n.data.result,e.label=2;case 2:e.trys.push([2,12,13,14]),a=he(n),r=a.next(),e.label=3;case 3:return r.done?[3,11]:(o=r.value,i=o.file.replace(/\.png$/,""),[4,fetch(o.url)]);case 4:return(s=e.sent(),"preview"!==i)?[3,6]:(c=b,[4,s.blob()]);case 5:return c.preview=e.sent(),[3,10];case 6:return t.includes(i)?(l=b.icons,u=i,[4,s.blob()]):[3,8];case 7:return l[u]=e.sent(),[3,10];case 8:return[4,s.blob()];case 9:p=e.sent(),d=URL.createObjectURL(p),b.stickers.push({id:o.file,file:p,blobUrl:d}),e.label=10;case 10:return r=a.next(),[3,3];case 11:return[3,14];case 12:return p=e.sent(),m={error:p},[3,14];case 13:try{r&&!r.done&&(f=a.return)&&f.call(a)}finally{if(m)throw m.error}return[7];case 14:return h({icons:b.icons,stickers:b.stickers,preview:b.preview},!0),[3,16];case 15:this.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error during getting package icons and stickers",hideProgress:!0,timer:3e3}),e.label=16;case 16:return b.loading=!1,this.componentState&&this.setState(b),[3,18];case 17:return e.sent(),this.componentState&&Object(S.d)("error",{title:"You got an error!",description:"Error during getting package icons and stickers",hideProgress:!0,timer:3e3}),[3,18];case 18:return[2]}})})},A.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.icons,r=n.stickers,n=n.preview;Object(s.isEqual)(t.icons,a)&&Object(s.isEqual)(t.stickers,r)&&Object(s.isEqual)(t.preview,n)||(0,this.props.saveUploadedIcons)({icons:a,stickers:r,preview:n},!0)},A.prototype.componentWillUnmount=function(){this.componentState=!1},A.prototype.render=function(){var a=this,e=this.props.changeStep,t=this.state,r=t.icons,n=t.stickers,o=t.preview,t=t.loading,i=Object.keys(r).every(function(e){return r[e]&&0<r[e].size})&&n&&0<n.length&&o&&0<o.size;return l.createElement("div",{className:"container-fluid no-padder"},t?l.createElement("div",{className:"row b-t b-b wrapper-md scroll-sticker"},l.createElement("div",{className:"col-lg-12",style:{height:"400px"}},l.createElement("div",{className:"spinner",style:{top:"45%"}},l.createElement("div",{className:"double-bounce1"}),l.createElement("div",{className:"double-bounce2"})))):l.createElement("div",{className:"row b-t b-b wrapper-md scroll-sticker",style:{height:window.innerHeight/2}},l.createElement("div",{className:"col-lg-4"},Object.keys(E.J.UPLOAD.icons).map(function(e,t){var n="";return r[e]&&(n=URL.createObjectURL(r[e])),l.createElement(d.a,{key:t},l.createElement(k.a,{htmlFor:e,bsClass:"cursor-pointer font-bold"},l.createElement("i",{className:"fa fa-plus-circle m-r-xs"})," ",E.J.UPLOAD.icons[e].title),l.createElement(p.a,{type:"file",name:e,className:"hidden",id:e,accept:"image/*",onChange:a.handleFileUpload}),l.createElement(m.a,null,""===n?E.J.UPLOAD.icons[e].info:l.createElement("img",{className:"img-responsive w-100 h-100 contain",src:n,alt:e})))})),l.createElement("div",{className:"col-lg-4"},l.createElement(d.a,null,l.createElement(k.a,{htmlFor:"stickers",bsClass:"cursor-pointer font-bold"},l.createElement("i",{className:"fa fa-plus-circle m-r-xs"})," ",E.J.UPLOAD.stickers.title),l.createElement(p.a,{type:"file",name:"stickers",className:"hidden",id:"stickers",accept:"image/*",multiple:!0,onChange:this.handleStickersUpload}),l.createElement(m.a,null,n&&0<n.length?n.map(function(e,t){return l.createElement("div",{key:t,className:"show-image"},l.createElement("img",{className:"w-100 contain",src:URL.createObjectURL(e.file)}),l.createElement("i",{className:"fa fa-close text-md delete cursor-pointer",onClick:a.handleStickerDelete,"data-sticker-id":e.id}))}):l.createElement("div",null,l.createElement("span",null,E.J.UPLOAD.stickers.info),l.createElement("img",{className:"img-responsive center-block",src:E.J.UPLOAD.stickers.imageUrl}))))),l.createElement("div",{className:"col-lg-4"},l.createElement(d.a,null,l.createElement(k.a,{htmlFor:"preview",bsClass:"cursor-pointer font-bold"},l.createElement("i",{className:"fa fa-plus-circle m-r-xs"})," ",E.J.UPLOAD.preview.title),l.createElement(p.a,{type:"file",name:"preview",className:"hidden",id:"preview",accept:"image/*",onChange:this.handleFileUpload}),l.createElement(m.a,null,o&&0<o.size?l.createElement("img",{className:"img-responsive contain",src:URL.createObjectURL(o)}):l.createElement("div",null,l.createElement("span",null,E.J.UPLOAD.preview.info),l.createElement("img",{className:"img-responsive center-block",src:E.J.UPLOAD.preview.imageUrl})))))),l.createElement("div",{className:"row wrapper"},l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-default",onClick:e,"data-tab-key":E.J.TABS.DESCRIPTION},"Back")),l.createElement("div",{className:"col-lg-4"}),l.createElement("div",{className:"col-lg-4"},l.createElement("button",{className:"btn btn-info pull-right",onClick:e,"data-tab-key":E.J.TABS.ARRANGE,disabled:!i},"Next"))),l.createElement(u.ToastContainer,null))};var be,ve,ke=A,n=(be=function(e,t){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),D=function(){return(D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=(ve=l.Component,n(I,ve),I.prototype.componentWillMount=function(){document.title=E.z["/stickers/update"]},I.prototype.componentWillUnmount=function(){this.componentState=!1},I.prototype.render=function(){var e=this.state,t=e.steps,n=e.active,e=e.stickerPackage;return l.createElement("div",{className:"box-shadow r-3x bg-white"},l.createElement(u.ToastContainer,null),l.createElement("div",{className:"content-wrapper"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},l.createElement("span",{className:"text-xsl padder-t-3"},E.z["/stickers/update"])),l.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},l.createElement("div",{className:"text-right"},l.createElement(R.a,{to:"/stickers",className:"btn btn-default"},"Cancel")))))),l.createElement("hr",null),l.createElement("div",{className:"content-wrapper"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row bs-wizard"},t.map(function(e,t){return l.createElement("div",{key:e.key,className:(0===t?"col-lg-offset-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1":"")+"\n                                            col-lg-2 col-md-2 col-sm-2 col-xs-2 bs-wizard-step "+e.status},l.createElement("div",{className:"progress"},l.createElement("div",{className:"progress-bar"})),l.createElement("a",{href:"#",className:"bs-wizard-dot"},l.createElement("span",null,e.key)),l.createElement("div",{className:"bs-wizard-info text-center"},e.title))})))),l.createElement("div",{className:"content-wrapper"},l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement(n.component,{changeStep:this.handleStepChange,saveUploadedIcons:this.handleSaveUploadedIcons,changeBlockCount:this.handleBlocksCountChange,setStickers:this.handleSetSeatedStickers,setPackageNumber:this.handleSetPackageNumber,stickerPackage:e})))))},I);function I(e){var a=ve.call(this,e)||this,e=(a.componentState=!0,a.handleSaveUploadedIcons=function(e,t){void 0===t&&(t=!1);var n=D({},a.state);e&&(n.stickerPackage.icons=e.icons,n.stickerPackage.preview=e.preview,n.stickerPackage.stickers=e.stickers),t&&(n.stickerPackage.isLoaded=t),a.setState(n)},a.handleSetSeatedStickers=function(e){var t=D({},a.state);t.stickerPackage.seatedStickers=e,a.setState(t)},a.handleStepChange=function(e){e.preventDefault();var t=parseInt(e.currentTarget.getAttribute("data-tab-key")),e=D({},a.state),n=e.steps.find(function(e){return e.key===t});e.active={key:n.key,component:n.component},a.setState(e)},a.handleBlocksCountChange=function(e){var t=D({},a.state);t.stickerPackage.blocksCount=e,a.setState(t)},a.handleSetPackageNumber=function(e){var t=D({},a.state);t.stickerPackage.packageNumber=e,a.setState(t)},e.match.params.id);return a.state={steps:[{key:E.J.TABS.DESCRIPTION,component:ae,title:"Description",status:"complete",className:""},{key:E.J.TABS.UPLOAD,component:ke,title:"Upload",disabled:!1,status:"complete",className:""},{key:E.J.TABS.ARRANGE,component:le,title:"Arrange",disabled:!0,status:"complete",className:""},{key:E.J.TABS.CONFIGURATIONS.BASE,component:ee,title:"Configurations",disabled:!0,status:"complete",className:""},{key:E.J.TABS.PUBLISH,component:me,title:"Publish",disabled:!0,status:"complete",className:""}],active:{key:E.J.TABS.DESCRIPTION,component:ae},stickerPackage:{packageId:parseInt(e),preview:null,isLoaded:!1,packageNumber:null,icons:{avatar:null,icon:null,unavailable_icon:null,banner:null},stickers:null,seatedStickers:{},blocksCount:E.K.DEFAULT}},a}B.default=i},UleO:function(e,t,n){"use strict";var i=n("z3IF"),s=n("3ejq"),a=n("ZHeO"),r=n("YKN3"),o=n("8Jek"),c=n.n(o),o=n("mXGw"),l=n.n(o),o=n("W0B4"),o=n.n(o),u=n("z+iy"),d=n("fXdF"),n={active:o.a.bool,disabled:o.a.bool,role:o.a.string,href:o.a.string,onClick:o.a.func,onSelect:o.a.func,eventKey:o.a.any},o=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(Object(r.a)(Object(r.a)(e))),e}Object(a.a)(e,n);var t=e.prototype;return t.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,a=e.onClick,r=e.className,o=e.style,e=Object(s.a)(e,["active","disabled","onClick","className","style"]);return delete e.onSelect,delete e.eventKey,delete e.activeKey,delete e.activeHref,e.role?"tab"===e.role&&(e["aria-selected"]=t):"#"===e.href&&(e.role="button"),l.a.createElement("li",{role:"presentation",className:c()(r,{active:t,disabled:n}),style:o},l.a.createElement(u.a,Object(i.a)({},e,{disabled:n,onClick:Object(d.a)(a,this.handleClick)})))},e}(l.a.Component);o.propTypes=n,o.defaultProps={active:!1,disabled:!1},t.a=o},Y7gb:function(e,t,n){"use strict";var a=n("K0AJ"),r=(t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))},a(n("rKUl")));e.exports=t.default},YKN3:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return a})},awmf:function(e,t,n){"use strict";var u=n("z3IF"),d=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),p=n.n(r),r=n("mXGw"),m=n.n(r),r=n("W0B4"),r=n.n(r),f=(n("Og1j"),n("kjvt")),n={inline:r.a.bool,disabled:r.a.bool,title:r.a.string,validationState:r.a.oneOf(["success","warning","error",null]),inputRef:r.a.func},r=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,a=e.validationState,r=e.inputRef,o=e.className,i=e.style,s=e.title,c=e.children,e=Object(d.a)(e,["inline","disabled","validationState","inputRef","className","style","title","children"]),e=Object(f.f)(e),l=e[0],e=e[1],e=m.a.createElement("input",Object(u.a)({},e,{ref:r,type:"radio",disabled:n}));if(t)return(r={})[Object(f.e)(l,"inline")]=!0,r.disabled=n,t=r,m.a.createElement("label",{className:p()(o,t),style:i,title:s},e,c);r=Object(u.a)({},Object(f.d)(l),{disabled:n});return a&&(r["has-"+a]=!0),m.a.createElement("div",{className:p()(o,r),style:i},m.a.createElement("label",{title:s},e,c))},t}(m.a.Component);r.propTypes=n,r.defaultProps={inline:!1,disabled:!1,title:""},t.a=Object(f.a)("radio",r)},ddal:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return l});var s=n("mXGw"),c=n("Q7aK"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var t=t.name,n=new FormData;return n.append("file",e,t+".png"),e=n.get("file")},o=function(e,t){function n(e){var t=e.title,e=e.description;return s.createElement("div",null,s.createElement("span",{className:"block text-md font-bold"},t),s.createElement("span",{className:"block"},e))}var a=t.title,r=t.description,o=t.id,t=t.timer,t=void 0!==t&&t,i=null;return o?c.toast.update(o,{render:s.createElement(n,{title:a,description:r}),transition:c.Slide,position:c.toast.POSITION.TOP_RIGHT,autoClose:3e3,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}):i=Object(c.toast)(s.createElement(n,{title:a,description:r}),{transition:c.Slide,position:c.toast.POSITION.TOP_RIGHT,autoClose:t,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}),i},i={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px",padding:"0 8px"})},placeholder:function(e){return a(a({},e),{top:"46%"})},input:function(e){return a(a({},e),{paddingTop:"0"})},indicatorsContainer:function(e){return a(a({},e),{minHeight:"34px"})},dropdownIndicator:function(e){return a(a({},e),{padding:"7px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",height:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}},l={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}}},fXdF:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(a,r){if("function"!=typeof r)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===a?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(this,t),r.apply(this,t)}},null)}},hxag:function(e,t,n){"use strict";var l=n("z3IF"),u=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),d=n.n(r),r=n("mXGw"),p=n.n(r),r=n("W0B4"),r=n.n(r),m=n("kjvt"),n={striped:r.a.bool,bordered:r.a.bool,condensed:r.a.bool,hover:r.a.bool,responsive:r.a.bool},r=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,a=t.bordered,r=t.condensed,o=t.hover,i=t.responsive,s=t.className,t=Object(u.a)(t,["striped","bordered","condensed","hover","responsive","className"]),t=Object(m.f)(t),c=t[0],t=t[1],n=Object(l.a)({},Object(m.d)(c),((e={})[Object(m.e)(c,"striped")]=n,e[Object(m.e)(c,"bordered")]=a,e[Object(m.e)(c,"condensed")]=r,e[Object(m.e)(c,"hover")]=o,e)),a=p.a.createElement("table",Object(l.a)({},t,{className:d()(s,n)}));return i?p.a.createElement("div",{className:Object(m.e)(c,"responsive")},a):a},t}(p.a.Component);r.propTypes=n,r.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},t.a=Object(m.a)("table",r)},lzW3:function(e,t,n){"use strict";var a=n("z3IF"),r=n("3ejq"),o=n("ZHeO"),i=n("8Jek"),s=n.n(i),i=n("mXGw"),c=n.n(i),l=n("kjvt"),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,e=Object(r.a)(e,["className"]),e=Object(l.f)(e),n=e[0],e=e[1],n=Object(l.d)(n);return c.a.createElement("span",Object(a.a)({},e,{className:s()(t,n)}))},t}(c.a.Component);t.a=Object(l.a)("help-block",i)},noPx:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},rKUl:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},x8rX:function(e,t,n){"use strict";n.d(t,"t",function(){return o}),n.d(t,"u",function(){return i}),n.d(t,"s",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"x",function(){return d}),n.d(t,"z",function(){return p}),n.d(t,"v",function(){return m}),n.d(t,"p",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"y",function(){return h}),n.d(t,"j",function(){return b}),n.d(t,"n",function(){return v}),n.d(t,"b",function(){return k}),n.d(t,"i",function(){return y}),n.d(t,"m",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"h",function(){return E}),n.d(t,"q",function(){return j}),n.d(t,"d",function(){return C}),n.d(t,"k",function(){return N}),n.d(t,"r",function(){return w}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return _}),n.d(t,"w",function(){return P});var a=n("CrSU"),r=n("mbMT"),o=function(){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.categories)},i=function(){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.statuses)},s=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base,{params:{offset:e}})},c=function(e){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base,e)},l=function(e){return r.a.delete(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e)},u=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e)},d=function(e,t){return r.a.put(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e,t)},p=function(e,t){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/upload",t)},m=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/upload")},f=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/0/languages")},g=function(e,t,n){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/"+t+"/languages",n)},h=function(e,t,n){return r.a.put(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/"+t+"/languages",n)},b=function(e,t){return r.a.delete(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/"+t+"/languages")},v=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/countries")},k=function(e,t){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/countries",t)},y=function(e,t){return r.a.delete(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/countries/"+t)},O=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/categories")},S=function(e,t){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/categories",t)},E=function(e,t){return r.a.delete(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/categories/"+t)},j=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/platforms")},C=function(e,t){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/platforms",t)},N=function(e,t){return r.a.delete(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/platforms/"+t)},w=function(e){return r.a.get(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/statuses")},x=function(e,t){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/statuses",t)},_=function(e){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/build",{})},P=function(e){return r.a.post(a.a.panel.baseUrl+a.a.panel.api.v1.stickers.base+"/"+e+"/publish",{})}},"z+iy":function(e,t,n){"use strict";var r=n("z3IF"),o=n("3ejq"),a=n("ZHeO"),i=n("YKN3"),s=n("mXGw"),c=n.n(s),s=n("W0B4"),s=n.n(s),l=n("4ZsV"),l=n.n(l),u=n("fXdF"),n={href:s.a.string,onClick:s.a.func,onKeyDown:s.a.func,disabled:s.a.bool,role:s.a.string,tabIndex:s.a.oneOfType([s.a.number,s.a.string]),componentClass:l.a};function d(e){return!e||"#"===e.trim()}s=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(Object(i.a)(Object(i.a)(e))),e.handleKeyDown=e.handleKeyDown.bind(Object(i.a)(Object(i.a)(e))),e}Object(a.a)(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,a=t.href,t=t.onClick;(n||d(a))&&e.preventDefault(),n?e.stopPropagation():t&&t(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,a=e.onKeyDown,e=Object(o.a)(e,["componentClass","disabled","onKeyDown"]);return d(e.href)&&(e.role=e.role||"button",e.href=e.href||"#"),n&&(e.tabIndex=-1,e.style=Object(r.a)({pointerEvents:"none"},e.style)),c.a.createElement(t,Object(r.a)({},e,{onClick:this.handleClick,onKeyDown:Object(u.a)(this.handleKeyDown,a)}))},e}(c.a.Component);s.propTypes=n,s.defaultProps={componentClass:"a"},t.a=s},zKcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.default)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=null;return r.forEach(function(e){null==a&&null!=(e=e.apply(void 0,t))&&(a=e)}),a})};var n=n("Dbyx"),a=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default}}]);