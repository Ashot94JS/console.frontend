(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"+Tz6":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return m});var r=n("CrSU"),o=n("mbMT"),a=function(e,t,n,a){return o.a.get(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base,{params:{offset:e,limit:t,network:n,userGroupId:a=void 0===a?null:a}})},l=function(e,t,n){return o.a.get(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base+"/"+e,{params:{network:t=void 0===t?null:t,userGroupId:n=void 0===n?null:n}})},i=function(e){return o.a.post(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base,e)},c=function(e,t){return o.a.put(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base+"/"+e,t)},s=function(e,t){return o.a.delete(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base+"/"+e,{data:t})},u=function(e,t){return o.a.put(r.a.panel.baseUrl+r.a.panel.api.v1.gateways.base+"/"+e+"/call-prices/cache",null,{params:t})},d=function(e,t){return o.a.post(r.a.panel.baseUrl+r.a.panel.api.v1.gateways.base+"/"+e+"/call-prices",t)},p=function(e){return o.a.get(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.health,{params:e})},m=function(e){return o.a.get(r.a.panel.baseUrl+r.a.panel.api.v3.gateways.base+"/cache",{params:e})}},"2xrT":function(e,t,n){e.exports=n("md7T")},"6JBb":function(e,t,n){var a=n("/6KZ"),r=n("SvME")(!1);a(a.S,"Object",{values:function(e){return r(e)}})},"87gR":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("mXGw");function r(e){var t=e.isAbsolute,n=e.isDropUp;return a.createElement("div",{style:{position:"absolute",left:"93%"},className:(n?"dropup-absolute":t?"dropdown-absolute":"dropdown")+" more-actions text-right"},a.createElement("button",{className:"btn btn-default dropdown-toggle","data-toggle":"dropdown",onClick:function(e){e.stopPropagation()}},a.createElement("span",{className:"icon-more"})),a.createElement("ul",{className:"dropdown-menu"},e.children))}},O6wh:function(e,t,n){"use strict";var a=n("2xrT"),a=n.n(a),o=n("3ejq"),l=n("z3IF"),r=n("ZHeO"),i=n("8Jek"),c=n.n(i),i=n("mXGw"),s=n.n(i),i=n("W0B4"),i=n.n(i),u=n("4ZsV"),u=n.n(u),d=n("kjvt"),p=n("qEYh"),m=n("z+iy"),n={active:i.a.bool,disabled:i.a.bool,block:i.a.bool,onClick:i.a.func,componentClass:u.a,href:i.a.string,type:i.a.oneOf(["button","reset","submit"])},u=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return s.a.createElement(m.a,Object(l.a)({},e,{className:c()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,e=Object(o.a)(e,["componentClass"]);return s.a.createElement(n||"button",Object(l.a)({},e,{type:e.type||"button",className:t}))},n.render=function(){var e=this.props,t=e.active,n=e.block,a=e.className,e=Object(o.a)(e,["active","block","className"]),e=Object(d.f)(e),r=e[0],e=e[1],r=Object(l.a)({},Object(d.d)(r),((t={active:t})[Object(d.e)(r,"block")]=n,t)),n=c()(a,r);return e.href?this.renderAnchor(e,n):this.renderButton(e,n)},t}(s.a.Component);u.propTypes=n,u.defaultProps={active:!1,block:!1,disabled:!1},t.a=Object(d.a)("btn",Object(d.b)([p.b.LARGE,p.b.SMALL,p.b.XSMALL],Object(d.c)(a()(p.c).concat([p.d.DEFAULT,p.d.PRIMARY,p.d.LINK]),p.d.DEFAULT,u)))},bj0z:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("mXGw"),u=n("O6wh"),d=n("YHpT"),p=n("XdbE");function a(e){var t=e.offset,n=e.limit,a=e.callback,r=e.data,o=e.length,l=e.count,e=e.disabled,e=void 0!==e&&e,i=Object(d.v)(r,t,n,o),c=i.start,i=i.end;return s.createElement("ul",{className:"list-inline text-right"},0!==t&&s.createElement("li",null,s.createElement(u.a,{"data-action":p.r.ACTION.RESET,onClick:a,disabled:e},s.createElement("i",{className:"fa fa-step-backward"}))),s.createElement("li",null,s.createElement("span",null,c+"-"+i)),s.createElement("li",null,s.createElement(u.a,{disabled:0===t||e,"data-action":p.r.ACTION.PREVIOUS,bsClass:"btn btn-default b-t-l b-b-l",onClick:a},s.createElement("i",{className:"fa fa-chevron-left"}))),s.createElement("li",null,s.createElement(u.a,{disabled:(o||r&&Object.keys(r).length)<n||e||(t+1)*n===l,"data-action":p.r.ACTION.NEXT,bsClass:"btn btn-default b-t-r b-b-r",onClick:a},s.createElement("i",{className:"fa fa-chevron-right"}))))}},ddal:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var i=n("mXGw"),c=n("Q7aK"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var t=t.name,n=new FormData;return n.append("file",e,t+".png"),e=n.get("file")},o=function(e,t){function n(e){var t=e.title,e=e.description;return i.createElement("div",null,i.createElement("span",{className:"block text-md font-bold"},t),i.createElement("span",{className:"block"},e))}var a=t.title,r=t.description,o=t.id,t=t.timer,t=void 0!==t&&t,l=null;return o?c.toast.update(o,{render:i.createElement(n,{title:a,description:r}),transition:c.Slide,position:c.toast.POSITION.TOP_RIGHT,autoClose:3e3,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}):l=Object(c.toast)(i.createElement(n,{title:a,description:r}),{transition:c.Slide,position:c.toast.POSITION.TOP_RIGHT,autoClose:t,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}),l},l={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px",padding:"0 8px"})},placeholder:function(e){return a(a({},e),{top:"46%"})},input:function(e){return a(a({},e),{paddingTop:"0"})},indicatorsContainer:function(e){return a(a({},e),{minHeight:"34px"})},dropdownIndicator:function(e){return a(a({},e),{padding:"7px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",height:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}},s={menu:function(e){return a(a({},e),{zIndex:999})},container:function(e){return a(a({},e),{minHeight:"34px"})},valueContainer:function(e){return a(a({},e),{minHeight:"34px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",a(a({},e),{minHeight:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}}},hxag:function(e,t,n){"use strict";var s=n("z3IF"),u=n("3ejq"),a=n("ZHeO"),r=n("8Jek"),d=n.n(r),r=n("mXGw"),p=n.n(r),r=n("W0B4"),r=n.n(r),m=n("kjvt"),n={striped:r.a.bool,bordered:r.a.bool,condensed:r.a.bool,hover:r.a.bool,responsive:r.a.bool},r=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,a=t.bordered,r=t.condensed,o=t.hover,l=t.responsive,i=t.className,t=Object(u.a)(t,["striped","bordered","condensed","hover","responsive","className"]),t=Object(m.f)(t),c=t[0],t=t[1],n=Object(s.a)({},Object(m.d)(c),((e={})[Object(m.e)(c,"striped")]=n,e[Object(m.e)(c,"bordered")]=a,e[Object(m.e)(c,"condensed")]=r,e[Object(m.e)(c,"hover")]=o,e)),a=p.a.createElement("table",Object(s.a)({},t,{className:d()(i,n)}));return l?p.a.createElement("div",{className:Object(m.e)(c,"responsive")},a):a},t}(p.a.Component);r.propTypes=n,r.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},t.a=Object(m.a)("table",r)},md7T:function(e,t,n){n("6JBb"),e.exports=n("TaGV").Object.values},onUk:function(e,t,n){"use strict";n.r(t);var a,r,p=n("mXGw"),o=n("/m4v"),m=n("thVU"),f=n("hxag"),b=n("ib2A"),h=n("Q7aK"),u=n("YHpT"),g=n("XdbE"),d=n("+Tz6"),y=n("87gR"),v=n("bj0z"),E=n("ddal"),w=n("tz+R"),O=n("wVQu"),l=n("cemM"),n=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},j=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&a>=e.length?void 0:e)&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=(r=p.Component,n(c,r),c.prototype.componentWillMount=function(){document.title=g.z["/gateways"]},c.prototype.componentDidMount=function(){var e=i({},this.state);this.initRequest(e)},c.prototype.componentWillUnmount=function(){this.componentState=!1},c.prototype.render=function(){var o=this,e=this.state,l=e.gateways,t=e.popup,i=e.offset,c=e.limit,e=e.request,n=e.loading,e=e.pagination,a=this.props,s=a.countries,u=a.regionCodes,d=a.userProfile;return p.createElement("div",{className:"box-shadow r-3x bg-white"},p.createElement(h.ToastContainer,null),p.createElement("div",{className:"content-wrapper"},p.createElement("div",{className:"container-fluid"},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},p.createElement("span",{className:"text-xsl padder-t-3"},g.z["/gateways"])),p.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},p.createElement("div",{className:"text-right"},d.readonly?p.createElement("button",{onClick:function(){d.readonly&&Object(E.d)("error",{title:"Read-Only admin",description:"Read-Only admin: the access to this functionality is restricted for your user role",timer:3e3,hideProgress:!0})},className:"btn btn-default btn-addon"},p.createElement("i",{className:"fa fa-plus"}),"Create SIP Trunk"):p.createElement(m.a,{to:"/gateways/create",className:"btn btn-default btn-addon"},p.createElement("i",{className:"fa fa-plus"}),"Create SIP Trunk")))))),n?p.createElement(w.a,null):p.createElement(f.a,{hover:!0,condensed:!0,responsive:!0},p.createElement("thead",null,p.createElement("tr",null,p.createElement("th",null),p.createElement("th",null,"Description"),p.createElement("th",null,"Host"),p.createElement("th",null,"Dial Prefix"),p.createElement("th",null,"Countries"),p.createElement("th",null,"Active"),p.createElement("th",null,"Pricing markup"),!d.readonly&&p.createElement("th",null))),p.createElement("tbody",null,0===l.length&&p.createElement("tr",null,p.createElement("td",{colSpan:8},"No result")),l.map(function(t,e){var n=i*c+e+1,a=t.countries,r=a.length>g.i?p.createElement("span",{className:"fa fa-info-circle cursor-pointer m-l-sm",onClick:o.handleShowMoreCountries,id:t.id}):null;return p.createElement("tr",{key:n,onClick:function(){return o.handleGatewayEdit(t.id)},className:"cursor-pointer"},p.createElement("td",null,n),p.createElement("td",null,t.description),p.createElement("td",null,t.host),p.createElement("td",null,t.dialPrefix),p.createElement("td",null,a.length===s.length&&"World wide",p.createElement("div",{className:"flexible"},p.createElement("div",{className:"flex flex-wrap flex-direction"},a.slice(0,g.i).map(function(e,t){return p.createElement("span",{key:t},u&&u[e]&&u[e].label)})),r)),p.createElement("td",null,t.active?"Active":"Not active"),p.createElement("td",null,"( Price * ",t.param1," ) + ",t.param2),!d.readonly&&p.createElement("td",null,p.createElement(y.a,{isDropUp:e===l.length-1},p.createElement("li",null,p.createElement(m.a,{to:"/gateways/"+t.id},"Edit")),p.createElement("li",null,p.createElement("a",{href:"javascript:void(0);",onClick:function(e){return o.handleModalOpen(e,t.id)}},p.createElement("span",null,"Delete"))))))}))),p.createElement("div",{className:"content-wrapper"},p.createElement("div",{className:"container-fluid"},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},p.createElement(v.a,{offset:i,limit:c,callback:this.handleListChange,data:l,disabled:e}))))),p.createElement(O.a,{show:t.delete.show,message:t.delete.message,hideModal:this.handleModalClose,confirmAction:this.handleGatewayDelete}),p.createElement(b.a,{show:t.more.show,onHide:this.handleModalClose,bsSize:"lg"},p.createElement(b.a.Header,{closeButton:!0},p.createElement(b.a.Title,null,"Countries")),p.createElement(b.a.Body,null,p.createElement(f.a,{className:"bg-white box-shadow m-b-none",hover:!0,condensed:!0,responsive:!0},p.createElement("thead",null,p.createElement("tr",null,p.createElement("th",null),p.createElement("th",null,"Country"))),p.createElement("tbody",null,t.more.countries.map(function(e,t){return p.createElement("tr",{key:t},p.createElement("td",null,t+1),p.createElement("td",null,u[e]?u[e].label:""))}))))))},c);function c(e){var s=r.call(this,e)||this;return s.componentState=!0,s.initRequest=function(l,i,c){void 0===i&&(i=0),void 0===c&&(c=!1);var e=l.limit;Object(d.g)(i,e).then(function(e){var t,n,e=e.data;if(e.err)throw new Error(JSON.stringify(e));l.gateways=e.result||[];try{for(var a=j(l.gateways),r=a.next();!r.done;r=a.next()){var o=r.value;o.countries=Object(u.m)(o.countries.split(";"))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}c&&(l.offset=i,l.request.pagination=!1),l.request.loading=!1,s.componentState&&s.setState(l)}).catch(function(e){console.log(e),s.componentState&&(l.loading=!1,c&&(l.request.pagination=!1),s.setState(l),Object(E.d)("error",{title:"You got an error!",description:"Cannot show gateways"}))})},s.handleGatewayDelete=function(e){e.preventDefault();var t,e=s.state,n=e.gatewayId,e=e.gateways,a=i({},s.state),r=Object(E.d)("info",{title:"Processing...",description:""});for(t in a.popup)a.popup.hasOwnProperty(t)&&(a.popup[t].show=!1);s.setState(a);e=e.find(function(e){return e.id===n}),e=e?e.reseller:null;Object(d.d)(n,{userGroupId:e}).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));a.gateways=a.gateways.filter(function(e){return e.id!==n}),a.gatewayId=null,s.componentState&&(s.setState(a),Object(E.d)("success",{title:"Success!",description:"This gateway was deleted",id:r}))}).catch(function(e){console.log(e),s.componentState&&(s.setState(a),Object(E.d)("error",{title:"You got an error!",description:"Can not delete gateway",id:r}))})},s.handleShowMoreCountries=function(e){e.stopPropagation();var t=s.state.gateways,n=parseInt(e.currentTarget.id),e=i({},s.state);e.popup.more.show=!0,e.popup.more.countries=t.find(function(e){return e.id===n}).countries||[],e.gatewayId=n,s.setState(e)},s.handleModalOpen=function(e,t){e.stopPropagation();e=i({},s.state);e.popup.delete.show=!0,e.popup.delete.message={title:"Are you sure delete?",apply:"Apply",cancel:"Cancel"},e.gatewayId=t,s.setState(e)},s.handleModalClose=function(){var e,t=i({},s.state);for(e in t.popup)t.popup.hasOwnProperty(e)&&(t.popup[e].show=!1);t.popup.delete.message={},t.gatewayId=null,s.setState(t)},s.handleListChange=function(e){e.preventDefault();var t=s.state.offset,n=i({},s.state),t=Object(u.i)(t,e);n.request.pagination=!0,s.setState(n),s.initRequest(n,t)},s.handleGatewayEdit=function(e){var t;e&&(t=s.props.history)&&t.push("/gateways/"+e)},s.state={offset:0,limit:20,gateways:[],gatewayId:null,popup:{delete:{show:!1,message:{}},more:{show:!1,countries:[]}},request:{loading:!0,pagination:!1}},s}t.default=Object(o.b)(function(e){return Object(l.a)(e)},function(){return{}})(n)},wVQu:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("mXGw"),i=n("ib2A"),c=n("O6wh");function a(e){var t=e.message,n=t.title,a=t.apply,t=t.cancel,r=e.hideModal,o=e.confirmAction,e=e.show;return l.createElement(i.a,{show:e,onHide:r,bsSize:"sm",style:{display:"flex",alignItems:"center"}},l.createElement(i.a.Header,{closeButton:!0}),l.createElement(i.a.Body,null,l.createElement("span",{className:"text-md"},n)),l.createElement(i.a.Footer,null,l.createElement(c.a,{onClick:r},t),l.createElement(c.a,{onClick:o,bsStyle:"info"},a)))}},"z+iy":function(e,t,n){"use strict";var r=n("z3IF"),o=n("3ejq"),a=n("ZHeO"),l=n("YKN3"),i=n("mXGw"),c=n.n(i),i=n("W0B4"),i=n.n(i),s=n("4ZsV"),s=n.n(s),u=n("fXdF"),n={href:i.a.string,onClick:i.a.func,onKeyDown:i.a.func,disabled:i.a.bool,role:i.a.string,tabIndex:i.a.oneOfType([i.a.number,i.a.string]),componentClass:s.a};function d(e){return!e||"#"===e.trim()}i=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(Object(l.a)(Object(l.a)(e))),e.handleKeyDown=e.handleKeyDown.bind(Object(l.a)(Object(l.a)(e))),e}Object(a.a)(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,a=t.href,t=t.onClick;(n||d(a))&&e.preventDefault(),n?e.stopPropagation():t&&t(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,a=e.onKeyDown,e=Object(o.a)(e,["componentClass","disabled","onKeyDown"]);return d(e.href)&&(e.role=e.role||"button",e.href=e.href||"#"),n&&(e.tabIndex=-1,e.style=Object(r.a)({pointerEvents:"none"},e.style)),c.a.createElement(t,Object(r.a)({},e,{onClick:this.handleClick,onKeyDown:Object(u.a)(this.handleKeyDown,a)}))},e}(c.a.Component);i.propTypes=n,i.defaultProps={componentClass:"a"},t.a=i}}]);