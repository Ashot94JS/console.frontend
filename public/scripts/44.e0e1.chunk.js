(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"87gR":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a("mXGw");function n(e){var t=e.isAbsolute,a=e.isDropUp;return s.createElement("div",{style:{position:"absolute",left:"93%"},className:(a?"dropup-absolute":t?"dropdown-absolute":"dropdown")+" more-actions text-right"},s.createElement("button",{className:"btn btn-default dropdown-toggle","data-toggle":"dropdown",onClick:function(e){e.stopPropagation()}},s.createElement("span",{className:"icon-more"})),s.createElement("ul",{className:"dropdown-menu"},e.children))}},JB24:function(R,e,t){"use strict";t.r(e);var s,a,c=t("mXGw"),n=t("9qTZ"),r=t("UleO"),T=t("TiKg"),o=t("/m4v"),d=t("ib2A"),I=t("hxag"),m=t("Q7aK"),u=t("44nO"),p=t("lzW3"),h=t("IbnU"),f=t("2Fcx"),w=t("mbMT"),v=t("CrSU"),l=t("XdbE"),i=t("cemM"),B=t("87gR"),b=t("ddal"),H=t("tz+R"),Y=t("wVQu"),g=t("Py1M"),E=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),P=function(){return(P=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},q=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var s,n,r=a.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return o},z=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q(arguments[t]));return e},E=(a=c.Component,E(y,a),y.prototype.componentWillMount=function(){document.title=l.z["/settings/access-control"]},y.prototype.componentDidMount=function(){var e=P({},this.state);this.initRequests(e)},y.prototype.componentWillUnmount=function(){this.componentState=!1},y.prototype.render=function(){var s=this,e=this.state,t=e.user,n=e.users,a=e.popup,r=e.isLoading,e=e.validation,o=this.props.userProfile,l=o.isSuper,o=o.email,i={};return a.isDeleteAdminPopupShown&&(i={title:"Delete Admin",apply:"Yes",cancel:"No",info:"Are you sure?"}),c.createElement("div",null,c.createElement("div",{className:"content-wrapper"},c.createElement(m.ToastContainer,null),c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},c.createElement("span",{className:"text-xsl"},"Administrators")),c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},c.createElement("div",{className:"text-right"},c.createElement("button",{className:"btn btn-default btn-addon",onClick:this.handleAddAdminModalOpen},c.createElement("i",{className:"fa fa-plus"})," Add Administrator")))))),r?c.createElement(H.a,null):c.createElement(I.a,{hover:!0,condensed:!0,responsive:!0},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"#"),c.createElement("th",null,"Administrator ID"),c.createElement("th",null,"Email"),c.createElement("th",null,"Created At"),c.createElement("th",null,"Role"),c.createElement("th",{className:l?"":"hidden"}))),c.createElement("tbody",null,n&&0===n.length&&c.createElement("tr",null,c.createElement("td",{colSpan:5},"No result")),n&&n.map(function(e,t){var a=t+1;return c.createElement("tr",{key:a},c.createElement("td",{scope:"row"},a),c.createElement("td",null,e.administrator_id),c.createElement("td",null,e.email),c.createElement("td",null,T(e.created_at).format("DD MMM YYYY hh:mm A")),c.createElement("td",null,1===e.role_id?"Super Admin":2===e.role_id?"Readonly Admin":"Admin"),c.createElement("td",{className:l?"":"hidden"},c.createElement(B.a,{isDropUp:t===n.length-1&&2<n.length,isAbsolute:!0},c.createElement("li",null,c.createElement("a",{href:"javascript:void(0);",onClick:function(){return s.handleDeleteAdminModalOpen(e.administrator_id,e.role_id,e.email)}},"Delete Administrator")),c.createElement("li",null,c.createElement("a",{href:"javascript:void(0);",onClick:function(){return s.handleChangePasswordModalOpen(e.administrator_id,e.role_id,e.email)}},"Change Admin's Role/Password")))))}))),c.createElement(d.a,{show:a.isAddAdminPopupShown,onHide:this.handleAddAdminModalClose},c.createElement(d.a.Header,{closeButton:!0},c.createElement("span",{className:"text-xlg"},"Add Administrator")),c.createElement(d.a.Body,null,c.createElement("form",{className:"wrapper-md",action:"/",onSubmit:this.handleSubmit},c.createElement(u.a,{validationState:e.email.value},c.createElement(f.a,{htmlFor:"email"},"Email address"),c.createElement(h.a,{id:"email",name:"email",type:"text",placeholder:"Email",autoComplete:"off",autoFocus:!0,value:t.email,onChange:this.handleEmailChange})),c.createElement(u.a,{validationState:e.password.value},c.createElement(f.a,{htmlFor:"password"},"Password"),c.createElement(h.a,{id:"password",name:"password",type:"password",autoComplete:"new-password",placeholder:"Password",value:t.password,onChange:this.handlePasswordFieldChange}),c.createElement(p.a,null,e.password.message)),c.createElement(u.a,{validationState:e.confirmPassword.value},c.createElement(f.a,{htmlFor:"confirmPassword"},"Confirm Password"),c.createElement(h.a,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",placeholder:"Confirm Password",value:t.confirmPassword,onChange:this.handlePasswordFieldChange}),c.createElement(p.a,null,e.confirmPassword.message)),c.createElement(u.a,{validationState:e.confirmPassword.value},c.createElement(g.a,{checked:t.readonlyAdmin,inline:!0,name:"minutes",onChange:this.handleReadonlyFieldChange},c.createElement("span",null,"Read-Only admin"))),c.createElement("button",{type:"submit",className:"btn btn-info btn-block",disabled:a.isDisabled||a.isProcessing},"Add Administrator Â ",a.isProcessing&&c.createElement("i",{className:"fa fa-spinner fa-spin"}))))),c.createElement(d.a,{show:a.isChangePasswordPopupShown,onHide:this.handleChangePasswordModalClose},c.createElement(d.a.Header,{closeButton:!0},c.createElement("span",{className:"text-xlg"},"Change Admin's Role or Password")),c.createElement(d.a.Body,null,c.createElement("form",{className:"wrapper-md",action:"/",onSubmit:this.handleSubmit},c.createElement("p",{style:{fontSize:"15px",color:"#777"}},"Type new password to change (optional)"),c.createElement(u.a,{validationState:e.password.value},c.createElement(f.a,{htmlFor:"password"},"Password"),c.createElement(h.a,{name:"password",type:"password",placeholder:"Password",autoComplete:"new-password",autoFocus:!0,value:t.password,onChange:this.handlePasswordFieldChange}),c.createElement(p.a,null,e.password.message)),c.createElement(u.a,{validationState:e.confirmPassword.value},c.createElement(f.a,{htmlFor:"confirmPassword"},"Confirm Password"),c.createElement(h.a,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",autoComplete:"new-password",value:t.confirmPassword,onChange:this.handlePasswordFieldChange}),c.createElement(p.a,null,e.confirmPassword.message)),l&&t.email===o?c.createElement("h4",{style:{fontSize:"14px",color:"#777"}},"Own profile update should not include role update"):c.createElement(u.a,{validationState:e.confirmPassword.value},c.createElement("p",{style:{fontSize:"15px",color:"#777"}},"Tick or untick to change the user role (optional)"),c.createElement(g.a,{checked:t.currentReadonlyAdmin,inline:!0,name:"minutes",onChange:this.handleCurrentReadonlyFieldChange},c.createElement("span",null,"Read-Only admin"))))),c.createElement(d.a.Footer,null,c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("div",{className:"text-right flex-end"},c.createElement("button",{className:"btn btn-default m-r-sm",onClick:this.handleChangePasswordModalClose},"Cancel"),c.createElement("button",{className:"btn btn-info",disabled:a.isDisabled||a.isProcessing,onClick:this.handlePasswordChange},"Save",a.isProcessing&&c.createElement("i",{className:"fa fa-spinner fa-spin m-l-xs"})))))))),c.createElement(Y.a,{show:a.isDeleteAdminPopupShown,message:i,hideModal:this.handleDeleteAdminModalClose,confirmAction:this.handleDeleteAdmin}))},y);function y(e){var c=a.call(this,e)||this;return c.componentState=!0,c.initRequests=function(t){c.setState({isLoading:!0}),w.a.get(v.a.panel.baseUrl+v.a.panel.api.v1.administrators).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));t.users=e.result||[],t.isLoading=!1,c.componentState&&c.setState(t)}).catch(function(e){console.log(e),t.isLoading=!1,c.componentState&&(c.setState(t),Object(b.d)("error",{title:"You've got an error!",description:"Cannot get users for unknown reason",timer:3e3,hideProgress:!0}))})},c.handleAddAdminModalClose=function(){var e,t=c.state,a=t.validation,s=t.user,n=P({},c.state);for(e in n.popup.isAddAdminPopupShown=!1,a)a.hasOwnProperty(e)&&(n.validation[e]={value:null,message:""});for(e in s)s.hasOwnProperty(e)&&(n.user[e]="");n.popup.isProcessing=!1,n.popup.isDisabled=!0,c.setState(n)},c.handleAddAdminModalOpen=function(){var e;c.props.userProfile.readonly?Object(b.d)("error",{title:"Read-Only admin",description:"Read-Only admin: the access to this functionality is restricted for your user role",timer:3e3,hideProgress:!0}):((e=P({},c.state)).popup.isAddAdminPopupShown=!0,c.setState(e))},c.handlePasswordFieldChange=function(e){var e=e.currentTarget,t=e.value,e=e.name,a=P({},c.state);"password"===e&&(a.user.password=t,a.validation.password.value=t.length>=l.B?"success":""===t?null:"error",a.validation.password.message=t.length>=l.B||""===t?"":"Password should be at least "+l.B+" symbols",t.length>=l.B&&t===a.user.confirmPassword&&(a.validation.confirmPassword.message="",a.validation.confirmPassword.value="success")),"confirmPassword"===e&&(e=a.user.password,a.user.confirmPassword=t,a.validation.confirmPassword.value=t===e&&e.length>=l.B?"success":""===t?null:"error",a.validation.confirmPassword.message=t===e&&e.length>=l.B||""===t?"":"Your password and confirmation password do not match"),c.handleToggleDisabled(a),c.setState(a)},c.handleReadonlyFieldChange=function(){var e=P({},c.state);e.user.readonlyAdmin=!e.user.readonlyAdmin,c.setState(e)},c.handleCurrentReadonlyFieldChange=function(){var e=P({},c.state);e.user.currentReadonlyAdmin=!e.user.currentReadonlyAdmin,c.setState(e)},c.handleToggleDisabled=function(t){t.popup.isDisabled=t.popup.isAddAdminPopupShown?!Object.keys(t.validation).every(function(e){return"success"===t.validation[e].value}):!Object.keys(t.validation).every(function(e){return"email"===e||"success"===t.validation[e].value})},c.handleEmailChange=function(e){var e=e.currentTarget.value,t=P({},c.state),a=new RegExp(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);t.user.email=e,t.validation.email.value=a.test(e)?"success":"error",c.handleToggleDisabled(t),c.setState(t)},c.handleSubmit=function(e){e.preventDefault();var e=c.state,t=e.user,s=e.users,n=e.validation,r=P({},c.state),o=(r.popup.isProcessing=!0,c.setState(r),Object(b.d)("info",{title:"Processing...",description:""})),l=t.readonlyAdmin;e={email:t.email,password:t.password,confirmPassword:t.confirmPassword,readonlyAdmin:t.readonlyAdmin,currentReadonlyAdmin:t.currentReadonlyAdmin},w.a.post(v.a.panel.baseUrl+v.a.panel.api.v1.administrators,e).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));var t,a=e.result;for(t in r.users=z([{administrator_id:a.administrator_id,email:a.email,created_at:a.created_at,role_id:l?2:null}],s),r.user={email:"",password:"",confirmPassword:"",readonlyAdmin:!1,currentReadonlyAdmin:!1},n)n.hasOwnProperty(t)&&(r.validation[t]={value:null,message:""});for(t in a)a.hasOwnProperty(t)&&(r.user[t]="");r.popup.isProcessing=!1,r.popup.isDisabled=!0,c.componentState&&(c.setState(r),Object(b.d)("success",{title:"Success!",description:"You have successfully created new admin",id:o}))}).catch(function(e){console.log(e),r.popup.isProcessing=!1,c.componentState&&(c.setState(r),Object(b.d)("error",{title:"You got an error!",description:"Cannot create new admin for unknown reason",id:o}))})},c.handleDeleteAdminModalOpen=function(e,t,a){a!==c.props.userProfile.email&&1===t?Object(b.d)("error",{description:"Super admin can't delete another super admin",timer:3e3,hideProgress:!0}):((a=P({},c.state)).popup.isDeleteAdminPopupShown=!0,a.popup.selectedAdminId=e,c.setState(a))},c.handleChangePasswordModalOpen=function(e,t,a){var s,n=c.props.userProfile;a!==n.email&&1===t?Object(b.d)("error",{description:"Super admin can't change the role or password of another super admin",timer:3e3,hideProgress:!0}):((s=P({},c.state)).popup.isChangePasswordPopupShown=!0,a===n.email&&n.isSuper?s.popup.isDisabled=!0:s.popup.isDisabled=!1,s.popup.selectedAdminId=e,s.user.email=a,s.user.currentReadonlyAdmin=2===t,c.setState(s))},c.handleChangePasswordModalClose=function(){var e,t=c.state,a=t.validation,s=t.user,n=P({},c.state);for(e in n.popup.isChangePasswordPopupShown=!1,n.popup.selectedAdminId=null,n.user.password="",a)a.hasOwnProperty(e)&&(n.validation[e]={value:null,message:""});for(e in s)s.hasOwnProperty(e)&&(n.user[e]="");n.popup.isProcessing=!1,n.popup.isDisabled=!0,c.setState(n)},c.handleDeleteAdminModalClose=function(){var e=P({},c.state);e.popup.isDeleteAdminPopupShown=!1,e.popup.selectedAdminId=null,c.setState(e)},c.handlePasswordChange=function(){var e,t,a,s=c.state,n=s.user,r=s.popup.selectedAdminId,o=s.validation,s=c.props.userProfile,l=P({},c.state),i=(l.popup.isProcessing=!0,c.setState(l),Object(b.d)("info",{title:"Processing...",description:""})),s=n.email===s.email&&s.isSuper;e=n.password,t=n.confirmPassword,a=n.currentReadonlyAdmin,w.a.post(v.a.panel.baseUrl+v.a.panel.api.v2.administrators+"/"+r+"/password",{password:e,confirmPassword:t,readonly:a,superAdmin:s}).then(function(e){var t,e=e.data;if(e.err)throw new Error(JSON.stringify(e));for(t in o)o.hasOwnProperty(t)&&(l.validation[t]={value:null,message:""});for(t in n)n.hasOwnProperty(t)&&(l.user[t]="");l.popup.isChangePasswordPopupShown=!1,l.user.password="",l.popup.isProcessing=!1,l.popup.isDisabled=!0,c.componentState&&(c.setState(l),Object(b.d)("success",{title:"Success!",description:"You have been successfully changed admin's options",id:i}),c.initRequests(l))}).catch(function(e){console.log(e),l.popup.isProcessing=!1,c.componentState&&(c.setState(l),Object(b.d)("error",{title:"You've got an error!",description:"Cannot change admin's password",id:i}))})},c.handleDeleteAdmin=function(){var t=c.state.popup.selectedAdminId,a=P({},c.state),s=(a.popup.isProcessing=!0,c.setState(a),Object(b.d)("info",{title:"Processing...",description:""}));w.a.delete(v.a.panel.baseUrl+v.a.panel.api.v2.administrators+"/"+t).then(function(e){e=e.data;if(e.err)throw new Error(JSON.stringify(e));a.popup.isProcessing=!1,a.popup.isDisabled=!0,a.popup.isDeleteAdminPopupShown=!1,a.users=a.users.filter(function(e){return e.administrator_id!==t}),c.componentState&&(c.setState(a),Object(b.d)("success",{title:"Success!",description:"You have been successfully deleted administrator",id:s}))}).catch(function(e){console.log(e),a.popup.isProcessing=!1,c.componentState&&(c.setState(a),Object(b.d)("error",{title:"You've got an error!",description:"Cannot delete administrator",id:s}))})},c.state={isLoading:!0,user:{email:"",password:"",confirmPassword:"",readonlyAdmin:!1,currentReadonlyAdmin:!1},users:[],popup:{isAddAdminPopupShown:!1,isChangePasswordPopupShown:!1,isDeleteAdminPopupShown:!1,selectedAdminId:null,isProcessing:!1,isDisabled:!0},validation:{email:{value:null,message:""},password:{value:null,message:""},confirmPassword:{value:null,message:""}}},c}var N,C,S=Object(o.b)(function(e){return Object(i.a)(e)},function(){return{}})(E),E=t("/gfI"),A=t.n(E),O=t("JWsN"),K=t("Cb7K"),x=t("YHpT"),E=(N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),M=function(){return(M=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},j=function(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],s=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&s>=e.length?void 0:e)&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=(C=c.Component,E(D,C),D.prototype.componentDidMount=function(){document.title=l.z["/settings/profile"];var t,e,a=this.props.userProfile,s={};if(0!==Object.keys(a).length&&a.constructor===Object&&0!==Object.entries(a.attributes).length&&a.attributes.constructor===Array){try{for(var n=j(a.attributes),r=n.next();!r.done;r=n.next()){var o=r.value;s[o.attributeId]=M({},o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.setState({userAttributes:s})}},D.prototype.componentDidUpdate=function(e,t){var a,s,n=this.props.userProfile;if(!A()(n.attributes,e.userProfile.attributes)){var r={};try{for(var o=j(n.attributes),l=o.next();!l.done;l=o.next()){var i=l.value;r[i.attributeId]=M({},i)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}this.setState({userAttributes:r})}},D.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},D.prototype.render=function(){var e=this.state,t=e.popup,a=e.userAttributes,s=e.validation,e=e.request,n=e.userUpdate,e=e.passwordUpdate;return c.createElement("div",null,c.createElement("div",{className:"content-wrapper"},c.createElement(m.ToastContainer,null),c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-4"},c.createElement("span",{className:"text-xlg padder-t-3 block"},l.z["/settings/profile"])),c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-8"},c.createElement("div",{className:"text-right flex-end"},c.createElement("button",{className:"btn btn-default btn-addon m-r-sm",onClick:this.handleUserModalOpen},c.createElement("i",{className:"fa fa-pencil"}),"Edit"),c.createElement("button",{className:"btn btn-default btn-addon",onClick:this.handlePasswordModalOpen},c.createElement("i",{className:"fa fa-pencil"}),"Change Password")))))),c.createElement("div",{className:"content-wrapper network-details"},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},c.createElement("div",{className:"container-fluid no-padder"},c.createElement("div",{className:"row m-b-md"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("span",{className:"block font-bold text-base text-uppercase"},"User Information"))),c.createElement("div",{className:"row m-b-md"},c.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},c.createElement("span",{className:"block font-semi-bold"},"First Name")),c.createElement("div",{className:"col-lg-7 col-md-7 col-sm-12 col-xs-12"},c.createElement("span",{className:"block"},a[l.M.firstName]&&a[l.M.firstName].value))),c.createElement("div",{className:"row m-b-md"},c.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},c.createElement("span",{className:"block font-semi-bold"},"Last Name")),c.createElement("div",{className:"col-lg-7 col-md-7 col-sm-12 col-xs-12"},c.createElement("span",{className:"block"},a[l.M.lastName]&&a[l.M.lastName].value))),c.createElement("div",{className:"row m-b-md"},c.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},c.createElement("span",{className:"block font-semi-bold"},"Address")),c.createElement("div",{className:"col-lg-7 col-md-7 col-sm-12 col-xs-12"},c.createElement("span",{className:"block"},a[l.M.address]&&a[l.M.address].value))),c.createElement("div",{className:"row m-b-md"},c.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 col-xs-12"},c.createElement("span",{className:"block font-semi-bold"},"Company")),c.createElement("div",{className:"col-lg-7 col-md-7 col-sm-12 col-xs-12"},c.createElement("span",{className:"block"},a[l.M.company]&&a[l.M.company].value)))))))),c.createElement(d.a,{show:t.isUserFormShown,onHide:this.handleUserModalClose,bsSize:"large"},c.createElement(d.a.Header,{closeButton:!0},c.createElement("span",{className:"text-xlg"},"Edit User Information")),c.createElement(d.a.Body,null,c.createElement("div",{style:{maxWidth:"650px",margin:"10px auto"}},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("form",{className:"form-horizontal"},c.createElement(u.a,null,c.createElement("label",{htmlFor:"firstName",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"First Name"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"firstName",name:"firstName",placeholder:"First Name",value:t.userAttributes[l.M.firstName]&&t.userAttributes[l.M.firstName].value||"",onChange:this.handleUserAttributeChange}))),c.createElement(u.a,null,c.createElement("label",{htmlFor:"lastName",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Last Name"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"lastName",name:"lastName",placeholder:"Last Name",value:t.userAttributes[l.M.lastName]&&t.userAttributes[l.M.lastName].value||"",onChange:this.handleUserAttributeChange}))),c.createElement(u.a,null,c.createElement("label",{htmlFor:"address",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Address"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"address",name:"address",placeholder:"Address",value:t.userAttributes[l.M.address]&&t.userAttributes[l.M.address].value||"",onChange:this.handleUserAttributeChange}))),c.createElement(u.a,null,c.createElement("label",{htmlFor:"company",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Company"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"company",name:"company",placeholder:"Company",value:t.userAttributes[l.M.company]&&t.userAttributes[l.M.company].value||"",onChange:this.handleUserAttributeChange}))))))))),c.createElement(d.a.Footer,null,c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("div",{className:"text-right flex-end"},c.createElement("button",{className:"btn btn-default m-r-sm",onClick:this.handleUserModalClose},"Cancel"),c.createElement("button",{className:"btn btn-info",disabled:n.isDisabled||n.isProcessing,onClick:this.handleUserUpdate},"Save",n.isProcessing&&c.createElement("i",{className:"fa fa-spinner fa-spin m-l-xs"})))))))),c.createElement(d.a,{show:t.isPasswordFormShown,onHide:this.handlePasswordModalClose,bsSize:"large"},c.createElement(d.a.Header,{closeButton:!0},c.createElement("span",{className:"text-xlg"},"Change Password")),c.createElement(d.a.Body,null,c.createElement("div",{style:{maxWidth:"650px",margin:"10px auto"}},c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("form",{className:"form-horizontal"},c.createElement(u.a,{validationState:s.currentPassword.value},c.createElement("label",{htmlFor:"currentPassword",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Enter your current password"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"currentPassword",name:"currentPassword",type:"password",placeholder:"Current password",value:t.passwordAttributes.currentPassword,onChange:this.handlePasswordFieldChange}),"error"===s.currentPassword.value?c.createElement("span",{className:"help-block"},s.currentPassword.message):"")),c.createElement(u.a,{validationState:s.password.value},c.createElement("label",{htmlFor:"password",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"New password"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"password",name:"password",type:"password",placeholder:"New password",value:t.passwordAttributes.password,onChange:this.handlePasswordFieldChange}))),c.createElement(u.a,{validationState:s.confirmPassword.value},c.createElement("label",{htmlFor:"confirmPassword",className:"col-lg-4 col-md-4 col-sm-4 col-xs-4 control-label"},"Confirm new password"),c.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 col-xs-8"},c.createElement(h.a,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm new password",value:t.passwordAttributes.confirmPassword,onChange:this.handlePasswordFieldChange}))))))))),c.createElement(d.a.Footer,null,c.createElement("div",{className:"container-fluid"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement("div",{className:"text-right flex-end"},c.createElement("button",{className:"btn btn-default m-r-sm",onClick:this.handlePasswordModalClose},"Cancel"),c.createElement("button",{className:"btn btn-info",disabled:e.isDisabled||e.isProcessing,onClick:this.handlePasswordChange},"Change Password",e.isProcessing&&c.createElement("i",{className:"fa fa-spinner fa-spin m-l-xs"})))))))))},D);function D(e){var i=C.call(this,e)||this;return i.isComponentMounted=!0,i.handlePasswordModalOpen=function(e){e.preventDefault(),i.props.userProfile.readonly?Object(b.d)("error",{title:"Read-Only admin",description:"Read-Only admin: the access to this functionality is restricted for your user role",timer:3e3,hideProgress:!0}):((e=M({},i.state)).popup.isPasswordFormShown=!0,i.setState(e))},i.handlePasswordModalClose=function(){var e,t=i.state,a=t.popup.passwordAttributes,t=t.validation,s=M({},i.state);for(e in s.popup.isPasswordFormShown=!1,a)a.hasOwnProperty(e)&&(s.popup.passwordAttributes[e]="");Object(x.u)(t,s),i.setState(s)},i.handlePasswordFieldChange=function(e){var e=e.currentTarget,t=e.name,e=e.value,a=M({},i.state);"password"===t&&(a.popup.passwordAttributes.password=e,a.validation.password.value=e.length>=l.B?"success":"error",a.popup.passwordAttributes.confirmPassword&&(a.validation.confirmPassword.value=a.popup.passwordAttributes.password===a.popup.passwordAttributes.confirmPassword?"success":"error")),"confirmPassword"===t&&(a.popup.passwordAttributes.confirmPassword=e,a.validation.confirmPassword.value=e.length>=l.B&&e===a.popup.passwordAttributes.password?"success":"error"),"currentPassword"===t&&(a.popup.passwordAttributes.currentPassword=e,a.validation.currentPassword.value=e.length>=l.B?"success":"error"),a.request.passwordUpdate.isDisabled=!Object.keys(a.validation).every(function(e){return"success"===a.validation[e].value}),i.setState(a)},i.handleUserModalOpen=function(e){e.preventDefault();var t,a,e=i.props.userProfile;if(e.readonly)Object(b.d)("error",{title:"Read-Only admin",description:"Read-Only admin: the access to this functionality is restricted for your user role",timer:3e3,hideProgress:!0});else{var s=M({},i.state),n=(s.popup.isUserFormShown=!0,s.request.userUpdate.isDisabled=!0,{});try{for(var r=j(e.attributes),o=r.next();!o.done;o=r.next()){var l=o.value;n[l.attributeId]=M({},l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(t)throw t.error}}s.popup.userAttributes=M({},n),i.setState(s)}},i.handleUserModalClose=function(){var e=M({},i.state);e.popup.isUserFormShown=!1,e.popup.userAttributes=[],e.request.userUpdate.isDisabled=!0,i.setState(e)},i.handleUserAttributeChange=function(e){var e=e.currentTarget,t=e.name,e=e.value,a=M({},i.state);a.popup.userAttributes[l.M[t]].value=e,a.request.userUpdate.isDisabled=A()(a.popup.userAttributes,a.userAttributes),i.setState(a)},i.handleUserUpdate=function(e){e.preventDefault();var t,a=i.state.popup,s=M({},i.state),n=[];for(t in a.userAttributes)a.userAttributes.hasOwnProperty(t)&&n.push(a.userAttributes[t]);var r=Object(b.d)("info",{title:"Processing...",description:""});s.request.userUpdate.isProcessing=!0,i.setState(s),Object(O.c)({attributes:n}).then(function(e){e=e.data;if(e.error||!e.result)throw new Error(JSON.stringify(e));i.isComponentMounted&&(s.request.userUpdate.isProcessing=!1,s.userAttributes=a.userAttributes,s.popup.userAttributes={},s.popup.isUserFormShown=!1,i.props.updateUserProfile(e.result||{}),Object(b.d)("success",{title:"Success!",description:"Successfully updated your user information",id:r}),i.setState(s))}).catch(function(e){console.log(e),i.isComponentMounted&&(s.request.userUpdate.isProcessing=!1,i.setState(s),Object(b.d)("error",{title:"You've got an error!",description:"Cannot update user information for unknown reason",id:r}))})},i.handlePasswordChange=function(e){e.preventDefault();var e=i.state,a=e.popup.passwordAttributes,s=e.validation,n=M({},i.state),r=(n.request.passwordUpdate.isProcessing=!0,i.setState(n),Object(b.d)("info",{title:"Processing...",description:""}));Object(O.a)(a).then(function(e){var t,e=e.data;if(e.error)throw new Error(JSON.stringify(e));for(t in n.popup.isPasswordFormShown=!1,a)a.hasOwnProperty(t)&&(n.popup.passwordAttributes[t]="");Object(x.u)(s,n),n.request.passwordUpdate.isProcessing=!1,i.setState(n),i.isComponentMounted&&(Object(b.d)("success",{title:"Success!",description:"Your password has been successfully changed",id:r}),i.setState(n))}).catch(function(e){console.log(e),n.request.passwordUpdate.isProcessing=!1,n.validation.currentPassword.value="error",n.validation.currentPassword.message="Your current password is incorrect, please try again",i.setState(n),i.isComponentMounted&&Object(b.d)("error",{title:"You've got an error!",description:"Cannot change password",id:r})})},i.state={request:{userUpdate:{isProcessing:!1,isDisabled:!0},passwordUpdate:{isProcessing:!1,isDisabled:!0}},popup:{isUserFormShown:!1,isPasswordFormShown:!1,userAttributes:{},passwordAttributes:{password:"",confirmPassword:"",currentPassword:""}},validation:{password:{value:null,message:""},confirmPassword:{value:null,message:""},currentPassword:{value:null,message:""}},userAttributes:{}},i}var U,F,L=Object(o.b)(function(e){return Object(i.a)(e)},function(t){return{updateUserProfile:function(e){return t(Object(K.i)(e))}}})(t),E=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),k=function(){return(k=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=(F=c.Component,E(_,F),_.prototype.render=function(){var e=this.state,t=e.pills,e=e.active;return c.createElement("div",{className:"container-fluid no-padder settings box-shadow bg-white r-3x"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},c.createElement(n.a,{bsStyle:"pills",justified:!0,activeKey:e.eventKey,onSelect:this.handlePillChange},t.map(function(e){return c.createElement(r.a,{key:e.eventKey,eventKey:e.eventKey,title:e.title},e.title)}))),c.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},e.eventClass)))},_);function _(e){var s=F.call(this,e)||this;return s.handlePillChange=function(t){var e=k({},s.state),a=e.pills.find(function(e){return e.eventKey===t});e.active={eventKey:a.eventKey,eventClass:a.eventClass},s.setState(e)},s.state={pills:[{eventKey:l.H.TABS.ACCESS_CONTROL,eventClass:c.createElement(S,null),title:"Access control"},{eventKey:l.H.TABS.PROFILE,eventClass:c.createElement(L,null),title:"User Profile"}],active:{eventKey:l.H.TABS.ACCESS_CONTROL,eventClass:c.createElement(S,null)}},s}e.default=o},ddal:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"b",function(){return c});var l=a("mXGw"),i=a("Q7aK"),s=function(){return(s=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=function(e,t){var t=t.name,a=new FormData;return a.append("file",e,t+".png"),e=a.get("file")},r=function(e,t){function a(e){var t=e.title,e=e.description;return l.createElement("div",null,l.createElement("span",{className:"block text-md font-bold"},t),l.createElement("span",{className:"block"},e))}var s=t.title,n=t.description,r=t.id,t=t.timer,t=void 0!==t&&t,o=null;return r?i.toast.update(r,{render:l.createElement(a,{title:s,description:n}),transition:i.Slide,position:i.toast.POSITION.TOP_RIGHT,autoClose:3e3,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}):o=Object(i.toast)(l.createElement(a,{title:s,description:n}),{transition:i.Slide,position:i.toast.POSITION.TOP_RIGHT,autoClose:t,closeOnClick:!0,draggable:!0,hideProgressBar:!0,className:"toast-container toast-container-"+e,bodyClassName:"toast-body",type:e}),o},o={menu:function(e){return s(s({},e),{zIndex:999})},container:function(e){return s(s({},e),{minHeight:"34px"})},valueContainer:function(e){return s(s({},e),{minHeight:"34px",padding:"0 8px"})},placeholder:function(e){return s(s({},e),{top:"46%"})},input:function(e){return s(s({},e),{paddingTop:"0"})},indicatorsContainer:function(e){return s(s({},e),{minHeight:"34px"})},dropdownIndicator:function(e){return s(s({},e),{padding:"7px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",s(s({},e),{minHeight:"34px",height:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}},c={menu:function(e){return s(s({},e),{zIndex:999})},container:function(e){return s(s({},e),{minHeight:"34px"})},valueContainer:function(e){return s(s({},e),{minHeight:"34px"})},control:function(e){return e["&:hover"].borderColor="#d2dcee",s(s({},e),{minHeight:"34px",border:"1px solid #d2dcee",transition:"box-shadow 150ms ease",boxShadow:"0 1px 3px 0 #e5e5e5"})}}},wVQu:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var o=a("mXGw"),l=a("ib2A"),i=a("O6wh");function s(e){var t=e.message,a=t.title,s=t.apply,t=t.cancel,n=e.hideModal,r=e.confirmAction,e=e.show;return o.createElement(l.a,{show:e,onHide:n,bsSize:"sm",style:{display:"flex",alignItems:"center"}},o.createElement(l.a.Header,{closeButton:!0}),o.createElement(l.a.Body,null,o.createElement("span",{className:"text-md"},a)),o.createElement(l.a.Footer,null,o.createElement(i.a,{onClick:n},t),o.createElement(i.a,{onClick:r,bsStyle:"info"},s)))}}}]);